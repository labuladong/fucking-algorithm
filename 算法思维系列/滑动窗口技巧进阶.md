# æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://labuladong.online/algo/" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.online/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ–°ç‰ˆç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) å³å°†æ¶¨ä»·ï¼›å·²æ”¯æŒè€ç”¨æˆ·ç»­è´¹~å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.online/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [3. Longest Substring Without Repeating Characters](https://leetcode.com/problems/longest-substring-without-repeating-characters/) | [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/) | ğŸŸ 
| [438. Find All Anagrams in a String](https://leetcode.com/problems/find-all-anagrams-in-a-string/) | [438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/) | ğŸŸ 
| [567. Permutation in String](https://leetcode.com/problems/permutation-in-string/) | [567. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/) | ğŸŸ 
| [76. Minimum Window Substring](https://leetcode.com/problems/minimum-window-substring/) | [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/) | ğŸ”´
| - | [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/) | ğŸŸ 
| - | [å‰‘æŒ‡ Offer II 014. å­—ç¬¦ä¸²ä¸­çš„å˜ä½è¯](https://leetcode.cn/problems/MPnaiL/) | ğŸŸ 
| - | [å‰‘æŒ‡ Offer II 015. å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å˜ä½è¯](https://leetcode.cn/problems/VabMRr/) | ğŸŸ 
| - | [å‰‘æŒ‡ Offer II 016. ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/wtcaE1/) | ğŸŸ 
| - | [å‰‘æŒ‡ Offer II 017. å«æœ‰æ‰€æœ‰å­—ç¬¦çš„æœ€çŸ­å­—ç¬¦ä¸²](https://leetcode.cn/problems/M1oyTv/) | ğŸ”´

**-----------**

> tipï¼šæœ¬æ–‡æœ‰è§†é¢‘ç‰ˆï¼š[æ»‘åŠ¨çª—å£ç®—æ³•æ ¸å¿ƒæ¨¡æ¿æ¡†æ¶](https://www.bilibili.com/video/BV1AV4y1n7Zt/)ã€‚å»ºè®®å…³æ³¨æˆ‘çš„ B ç«™è´¦å·ï¼Œæˆ‘ä¼šç”¨è§†é¢‘é¢†è¯»çš„æ–¹å¼å¸¦å¤§å®¶å­¦ä¹ é‚£äº›ç¨æœ‰éš¾åº¦çš„ç®—æ³•æŠ€å·§ã€‚



é‰´äºå‰æ–‡ [äºŒåˆ†æœç´¢æ¡†æ¶è¯¦è§£](https://labuladong.online/algo/essential-technique/binary-search-framework/) çš„é‚£é¦–ã€ŠäºŒåˆ†æœç´¢å‡å¤©è¯ã€‹å¾ˆå—å¥½è¯„ï¼Œå¹¶åœ¨æ°‘é—´å¹¿ä¸ºæµä¼ ï¼Œæˆä¸ºå®‰ç¡åŠ©çœ çš„ä¸€å‰‚è‰¯æ–¹ï¼Œä»Šå¤©åœ¨æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ä¸­ï¼Œæˆ‘å†æ¬¡ç¼–å†™ä¸€é¦–å°è¯—æ¥æ­Œé¢‚æ»‘åŠ¨çª—å£ç®—æ³•çš„ä¼Ÿå¤§ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ï¼š

![](https://labuladong.online/algo/images/slidingwindow/poem.jpg)

å“ˆå“ˆï¼Œæˆ‘è‡ªå·±å¿«æŠŠè‡ªå·±å¤¸ä¸Šå¤©äº†ï¼Œå¤§å®¶ä¹ä¸€ä¹å°±å¥½ï¼Œä¸è¦å½“çœŸï¼šï¼‰

å…³äºåŒæŒ‡é’ˆçš„å¿«æ…¢æŒ‡é’ˆå’Œå·¦å³æŒ‡é’ˆçš„ç”¨æ³•ï¼Œå¯ä»¥å‚è§å‰æ–‡ [åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/)ï¼Œæœ¬æ–‡å°±è§£å†³ä¸€ç±»æœ€éš¾æŒæ¡çš„åŒæŒ‡é’ˆæŠ€å·§ï¼šæ»‘åŠ¨çª—å£æŠ€å·§ã€‚å¹¶æ€»ç»“å‡ºä¸€å¥—æ¡†æ¶ï¼Œå¯ä»¥ä¿ä½ é—­ç€çœ¼ç›éƒ½èƒ½å†™å‡ºæ­£ç¡®çš„è§£æ³•ã€‚

### æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ

**æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§ä¸»è¦ç”¨æ¥è§£å†³å­æ•°ç»„é—®é¢˜ï¼Œæ¯”å¦‚è®©ä½ å¯»æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„æœ€é•¿/æœ€çŸ­å­æ•°ç»„**ã€‚

å¦‚æœç”¨æš´åŠ›è§£çš„è¯ï¼Œä½ éœ€è¦åµŒå¥— for å¾ªç¯è¿™æ ·ç©·ä¸¾æ‰€æœ‰å­æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ `O(N^2)`ï¼š

```cpp
for (int i = 0; i < nums.size(); i++) {
    for (int j = i; j < nums.size(); j++) {
        // nums[i, j] æ˜¯ä¸€ä¸ªå­æ•°ç»„
    }
}
```

æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§çš„æ€è·¯ä¹Ÿä¸éš¾ï¼Œå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œä¸æ–­æ»‘åŠ¨ï¼Œç„¶åæ›´æ–°ç­”æ¡ˆï¼Œè¯¥ç®—æ³•çš„å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š

```cpp
int left = 0, right = 0;

while (right < nums.size()) {
    // å¢å¤§çª—å£
    window.add(nums[right]);
    right++;
    
    while (window needs shrink) {
        // ç¼©å°çª—å£
        window.remove(nums[left]);
        left++;
    }
}
```

åŸºäºæ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶å†™å‡ºçš„ä»£ç ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ `O(N)`ï¼Œæ¯”åµŒå¥— for å¾ªç¯çš„æš´åŠ›è§£æ³•æ•ˆç‡é«˜ã€‚

::: info ä¸ºå•¥æ˜¯ `O(N)`ï¼Ÿ

è‚¯å®šæœ‰è¯»è€…è¦é—®äº†ï¼Œä½ è¿™ä¸ªæ»‘åŠ¨çª—å£æ¡†æ¶ä¸ä¹Ÿç”¨äº†ä¸€ä¸ªåµŒå¥— while å¾ªç¯ï¼Ÿä¸ºå•¥å¤æ‚åº¦æ˜¯ `O(N)` å‘¢ï¼Ÿ

ç®€å•è¯´ï¼ŒæŒ‡é’ˆ `left, right` ä¸ä¼šå›é€€ï¼ˆå®ƒä»¬çš„å€¼åªå¢ä¸å‡ï¼‰ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²/æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½åªä¼šè¿›å…¥çª—å£ä¸€æ¬¡ï¼Œç„¶åè¢«ç§»å‡ºçª—å£ä¸€æ¬¡ï¼Œä¸ä¼šè¯´æœ‰æŸäº›å…ƒç´ å¤šæ¬¡è¿›å…¥å’Œç¦»å¼€çª—å£ï¼Œæ‰€ä»¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å°±å’Œå­—ç¬¦ä¸²/æ•°ç»„çš„é•¿åº¦æˆæ­£æ¯”ã€‚

åè§‚åµŒå¥— for å¾ªç¯çš„æš´åŠ›è§£æ³•ï¼Œé‚£ä¸ª `j` ä¼šå›é€€ï¼Œæ‰€ä»¥æŸäº›å…ƒç´ ä¼šè¿›å…¥å’Œç¦»å¼€çª—å£å¤šæ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯ `O(N^2)` äº†ã€‚

æˆ‘åœ¨ [ç®—æ³•æ—¶ç©ºå¤æ‚åº¦åˆ†æå®ç”¨æŒ‡å—](https://labuladong.online/algo/essential-technique/complexity-analysis/) æœ‰å…·ä½“æ•™å¤§å®¶å¦‚ä½•ä»ç†è®ºä¸Šä¼°ç®—æ—¶é—´ç©ºé—´å¤æ‚åº¦ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚

:::

::: info ä¸ºå•¥æ»‘åŠ¨çª—å£èƒ½åœ¨ `O(N)` çš„æ—¶é—´ç©·ä¸¾å­æ•°ç»„ï¼Ÿ

è¿™ä¸ªé—®é¢˜æœ¬èº«å°±æ˜¯é”™è¯¯çš„ï¼Œ**æ»‘åŠ¨çª—å£å¹¶ä¸èƒ½ç©·ä¸¾å‡ºæ‰€æœ‰å­ä¸²**ã€‚è¦æƒ³ç©·ä¸¾å‡ºæ‰€æœ‰å­ä¸²ï¼Œå¿…é¡»ç”¨é‚£ä¸ªåµŒå¥— for å¾ªç¯ã€‚

ç„¶è€Œå¯¹äºæŸäº›é¢˜ç›®ï¼Œå¹¶ä¸éœ€è¦ç©·ä¸¾æ‰€æœ‰å­ä¸²ï¼Œå°±èƒ½æ‰¾åˆ°é¢˜ç›®æƒ³è¦çš„ç­”æ¡ˆã€‚æ»‘åŠ¨çª—å£å°±æ˜¯è¿™ç§åœºæ™¯ä¸‹çš„ä¸€å¥—ç®—æ³•æ¨¡æ¿ï¼Œå¸®ä½ å¯¹ç©·ä¸¾è¿‡ç¨‹è¿›è¡Œå‰ªæä¼˜åŒ–ï¼Œé¿å…å†—ä½™è®¡ç®—ã€‚

æ‰€ä»¥åœ¨ [ç®—æ³•çš„æœ¬è´¨](https://labuladong.online/algo/essential-technique/algorithm-summary/) ä¸­æˆ‘æŠŠæ»‘åŠ¨çª—å£ç®—æ³•å½’ä¸ºã€Œå¦‚ä½•èªæ˜åœ°ç©·ä¸¾ã€ä¸€ç±»ã€‚

:::

å…¶å®å›°æ‰°å¤§å®¶çš„ï¼Œä¸æ˜¯ç®—æ³•çš„æ€è·¯ï¼Œè€Œæ˜¯å„ç§ç»†èŠ‚é—®é¢˜ã€‚æ¯”å¦‚è¯´å¦‚ä½•å‘çª—å£ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œå¦‚ä½•ç¼©å°çª—å£ï¼Œåœ¨çª—å£æ»‘åŠ¨çš„å“ªä¸ªé˜¶æ®µæ›´æ–°ç»“æœã€‚å³ä¾¿ä½ æ˜ç™½äº†è¿™äº›ç»†èŠ‚ï¼Œä»£ç ä¹Ÿå®¹æ˜“å‡º bugï¼Œæ‰¾ bug è¿˜ä¸çŸ¥é“æ€ä¹ˆæ‰¾ï¼ŒçœŸçš„æŒºè®©äººå¿ƒçƒ¦çš„ã€‚

**æ‰€ä»¥ä»Šå¤©æˆ‘å°±å†™ä¸€å¥—æ»‘åŠ¨çª—å£ç®—æ³•çš„ä»£ç æ¡†æ¶ï¼Œæˆ‘è¿å†å“ªé‡Œåšè¾“å‡º debug éƒ½ç»™ä½ å†™å¥½äº†ï¼Œä»¥åé‡åˆ°ç›¸å…³çš„é—®é¢˜ï¼Œä½ å°±é»˜å†™å‡ºæ¥å¦‚ä¸‹æ¡†æ¶ç„¶åæ”¹ä¸‰ä¸ªåœ°æ–¹å°±è¡Œï¼Œä¿è¯ä¸ä¼šå‡º bug**ã€‚

å› ä¸ºæœ¬æ–‡çš„ä¾‹é¢˜å¤§å¤šæ˜¯å­ä¸²ç›¸å…³çš„é¢˜ç›®ï¼Œå­—ç¬¦ä¸²å®é™…ä¸Šå°±æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠè¾“å…¥è®¾ç½®æˆå­—ç¬¦ä¸²äº†ã€‚ä½ åšé¢˜çš„æ—¶å€™æ ¹æ®å…·ä½“é¢˜ç›®è‡ªè¡Œå˜é€šå³å¯ï¼š

<!-- muliti_language -->
```cpp
/* æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶ */
void slidingWindow(string s) {
    // ç”¨åˆé€‚çš„æ•°æ®ç»“æ„è®°å½•çª—å£ä¸­çš„æ•°æ®ï¼Œæ ¹æ®å…·ä½“åœºæ™¯å˜é€š
    // æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³è®°å½•çª—å£ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå°±ç”¨ map
    // æˆ‘æƒ³è®°å½•çª—å£ä¸­çš„å…ƒç´ å’Œï¼Œå°±ç”¨ int
    unordered_map<char, int> window;
    
    int left = 0, right = 0;
    while (right < s.size()) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        char c = s[right];
        window.add(c)
        // å¢å¤§çª—å£
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        ...

        /*** debug è¾“å‡ºçš„ä½ç½® ***/
        // æ³¨æ„åœ¨æœ€ç»ˆçš„è§£æ³•ä»£ç ä¸­ä¸è¦ print
        // å› ä¸º IO æ“ä½œå¾ˆè€—æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¶…æ—¶
        printf("window: [%d, %d)\n", left, right);
        /********************/
        
        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (left < right && window needs shrink) {
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            char d = s[left];
            window.remove(d)
            // ç¼©å°çª—å£
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            ...
        }
    }
}
```

**æ¡†æ¶ä¸­ä¸¤å¤„ `...` è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨å…·ä½“çš„é¢˜ç›®ä¸­ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯å¾€è¿™é‡Œé¢å¡«ä»£ç é€»è¾‘**ã€‚è€Œä¸”ï¼Œè¿™ä¸¤ä¸ª `...` å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯æ‰©å¤§å’Œç¼©å°çª—å£çš„æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚

è¯´å¥é¢˜å¤–è¯ï¼Œæœ‰äº›è¯»è€…è¯„è®ºæˆ‘è¿™ä¸ªæ¡†æ¶ï¼Œè¯´æ•£åˆ—è¡¨é€Ÿåº¦æ…¢ï¼Œä¸å¦‚ç”¨æ•°ç»„ä»£æ›¿æ•£åˆ—è¡¨ï¼›è¿˜æœ‰äº›äººå–œæ¬¢æŠŠä»£ç å†™å¾—ç‰¹åˆ«çŸ­å°ï¼Œè¯´æˆ‘è¿™æ ·ä»£ç å¤ªå¤šä½™ï¼Œé€Ÿåº¦ä¸å¤Ÿå¿«ã€‚æˆ‘çš„æ„è§æ˜¯ï¼Œç®—æ³•ä¸»è¦çœ‹æ—¶é—´å¤æ‚åº¦ï¼Œä½ èƒ½ç¡®ä¿è‡ªå·±çš„æ—¶é—´å¤æ‚åº¦æœ€ä¼˜å°±è¡Œäº†ã€‚è‡³äº LeetCode çš„è¿è¡Œé€Ÿåº¦ï¼Œé‚£ä¸ªæœ‰ç‚¹ç„å­¦ï¼Œåªè¦ä¸æ˜¯æ…¢çš„ç¦»è°±å°±æ²¡å•¥é—®é¢˜ï¼Œæ ¹æœ¬ä¸å€¼å¾—ä½ ä»ç¼–è¯‘å±‚é¢ä¼˜åŒ–ï¼Œä¸è¦èˆæœ¬é€æœ«â€¦â€¦

å†è¯´ï¼Œæˆ‘çš„ç®—æ³•æ•™ç¨‹é‡ç‚¹åœ¨äºç®—æ³•æ€æƒ³ï¼Œä½ å…ˆåšåˆ°èƒ½æŠŠæ¡†æ¶æ€ç»´è¿ç”¨è‡ªå¦‚ï¼Œç„¶åéšä¾¿ä½ é­”æ”¹ä»£ç å¥½å§ï¼Œä¿ä½ æ€ä¹ˆå†™éƒ½èƒ½å†™å¯¹ã€‚

è¨€å½’æ­£ä¼ ï¼Œä¸‹é¢å°±ç›´æ¥ä¸Šå››é“åŠ›æ‰£åŸé¢˜æ¥å¥—è¿™ä¸ªæ¡†æ¶ï¼Œå…¶ä¸­ç¬¬ä¸€é“é¢˜ä¼šè¯¦ç»†è¯´æ˜å…¶åŸç†ï¼Œåé¢å››é“å°±ç›´æ¥é—­çœ¼ç›ç§’æ€äº†ã€‚

å› ä¸ºæ»‘åŠ¨çª—å£å¾ˆå¤šæ—¶å€™éƒ½æ˜¯åœ¨å¤„ç†å­—ç¬¦ä¸²ç›¸å…³çš„é—®é¢˜ï¼Œè€Œ Java å¤„ç†å­—ç¬¦ä¸²ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥æœ¬æ–‡ä»£ç ä¸º C++ å®ç°ã€‚ä¸ä¼šç”¨åˆ°ä»€ä¹ˆç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€æŠ€å·§ï¼Œä½†æ˜¯è¿˜æ˜¯ç®€å•ä»‹ç»ä¸€ä¸‹ä¸€äº›ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼Œä»¥å…æœ‰çš„è¯»è€…å› ä¸ºè¯­è¨€çš„ç»†èŠ‚é—®é¢˜é˜»ç¢å¯¹ç®—æ³•æ€æƒ³çš„ç†è§£ï¼š

`unordered_map` å°±æ˜¯å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰ï¼Œç›¸å½“äº Java çš„ `HashMap`ï¼Œå®ƒçš„ä¸€ä¸ªæ–¹æ³• `count(key)` ç›¸å½“äº Java çš„ `containsKey(key)` å¯ä»¥åˆ¤æ–­é”® key æ˜¯å¦å­˜åœ¨ã€‚

å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è®¿é—®é”®å¯¹åº”çš„å€¼ `map[key]`ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯¥ `key` ä¸å­˜åœ¨ï¼ŒC++ ä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ª keyï¼Œå¹¶æŠŠ `map[key]` èµ‹å€¼ä¸º 0ã€‚æ‰€ä»¥ä»£ç ä¸­å¤šæ¬¡å‡ºç°çš„ `map[key]++` ç›¸å½“äº Java çš„ `map.put(key, map.getOrDefault(key, 0) + 1)`ã€‚

å¦å¤–ï¼ŒJava ä¸­çš„ Integer å’Œ String è¿™ç§åŒ…è£…ç±»ä¸èƒ½ç›´æ¥ç”¨ `==` è¿›è¡Œç›¸ç­‰åˆ¤æ–­ï¼Œè€Œåº”è¯¥ä½¿ç”¨ç±»çš„ `equals` æ–¹æ³•ï¼Œè¿™ä¸ªè¯­è¨€ç‰¹æ€§å‘äº†ä¸å°‘è¯»è€…ï¼Œåœ¨ä»£ç éƒ¨åˆ†æˆ‘ä¼šç»™å‡ºå…·ä½“æç¤ºã€‚

### ä¸€ã€æœ€å°è¦†ç›–å­ä¸²

å…ˆæ¥çœ‹çœ‹åŠ›æ‰£ç¬¬ 76 é¢˜ã€Œæœ€å°è¦†ç›–å­ä¸²ã€éš¾åº¦ Hardï¼š

<Problem slug="minimum-window-substring" />

å°±æ˜¯è¯´è¦åœ¨ `S`(source) ä¸­æ‰¾åˆ°åŒ…å« `T`(target) ä¸­å…¨éƒ¨å­—æ¯çš„ä¸€ä¸ªå­ä¸²ï¼Œä¸”è¿™ä¸ªå­ä¸²ä¸€å®šæ˜¯æ‰€æœ‰å¯èƒ½å­ä¸²ä¸­æœ€çŸ­çš„ã€‚

å¦‚æœæˆ‘ä»¬ä½¿ç”¨æš´åŠ›è§£æ³•ï¼Œä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š

```java
for (int i = 0; i < s.size(); i++)
    for (int j = i + 1; j < s.size(); j++)
        if s[i:j] åŒ…å« t çš„æ‰€æœ‰å­—æ¯:
            æ›´æ–°ç­”æ¡ˆ
```

æ€è·¯å¾ˆç›´æ¥ï¼Œä½†æ˜¯æ˜¾ç„¶ï¼Œè¿™ä¸ªç®—æ³•çš„å¤æ‚åº¦è‚¯å®šå¤§äº O(N^2) äº†ï¼Œä¸å¥½ã€‚

**æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·**ï¼š

1ã€æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² `S` ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ– `left = right = 0`ï¼ŒæŠŠç´¢å¼•**å·¦é—­å³å¼€**åŒºé—´ `[left, right)` ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ã€‚

::: tip ä¸ºä»€ä¹ˆè¦ã€Œå·¦é—­å³å¼€ã€åŒºé—´

**ç†è®ºä¸Šä½ å¯ä»¥è®¾è®¡ä¸¤ç«¯éƒ½å¼€æˆ–è€…ä¸¤ç«¯éƒ½é—­çš„åŒºé—´ï¼Œä½†è®¾è®¡ä¸ºå·¦é—­å³å¼€åŒºé—´æ˜¯æœ€æ–¹ä¾¿å¤„ç†çš„**ã€‚

å› ä¸ºè¿™æ ·åˆå§‹åŒ– `left = right = 0` æ—¶åŒºé—´ `[0, 0)` ä¸­æ²¡æœ‰å…ƒç´ ï¼Œä½†åªè¦è®© `right` å‘å³ç§»åŠ¨ï¼ˆæ‰©å¤§ï¼‰ä¸€ä½ï¼ŒåŒºé—´ `[0, 1)` å°±åŒ…å«ä¸€ä¸ªå…ƒç´  `0` äº†ã€‚

å¦‚æœä½ è®¾ç½®ä¸ºä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ï¼Œé‚£ä¹ˆè®© `right` å‘å³ç§»åŠ¨ä¸€ä½åå¼€åŒºé—´ `(0, 1)` ä»ç„¶æ²¡æœ‰å…ƒç´ ï¼›å¦‚æœä½ è®¾ç½®ä¸ºä¸¤ç«¯éƒ½é—­çš„åŒºé—´ï¼Œé‚£ä¹ˆåˆå§‹åŒºé—´ `[0, 0]` å°±åŒ…å«äº†ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šç»™è¾¹ç•Œå¤„ç†å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ã€‚

:::

2ã€æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ  `right` æŒ‡é’ˆæ‰©å¤§çª—å£ `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† `T` ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚

3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ  `right`ï¼Œè½¬è€Œä¸æ–­å¢åŠ  `left` æŒ‡é’ˆç¼©å°çª—å£ `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« `T` ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  `left`ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚

4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° `right` åˆ°è¾¾å­—ç¬¦ä¸² `S` çš„å°½å¤´ã€‚

è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œ**ç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£**ï¼Œä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–å­ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œå°±å¥½åƒä¸€æ¡æ¯›æ¯›è™«ï¼Œä¸€ä¼¸ä¸€ç¼©ï¼Œä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—å£ã€è¿™ä¸ªåå­—çš„æ¥å†ã€‚

ä¸‹é¢ç”»å›¾ç†è§£ä¸€ä¸‹ï¼Œ`needs` å’Œ `window` ç›¸å½“äºè®¡æ•°å™¨ï¼Œåˆ†åˆ«è®°å½• `T` ä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œã€Œçª—å£ã€ä¸­çš„ç›¸åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚

åˆå§‹çŠ¶æ€ï¼š

![](https://labuladong.online/algo/images/slidingwindow/1.png)

å¢åŠ  `right`ï¼Œç›´åˆ°çª—å£ `[left, right)` åŒ…å«äº† `T` ä¸­æ‰€æœ‰å­—ç¬¦ï¼š

![](https://labuladong.online/algo/images/slidingwindow/2.png)

ç°åœ¨å¼€å§‹å¢åŠ  `left`ï¼Œç¼©å°çª—å£ `[left, right)`ï¼š

![](https://labuladong.online/algo/images/slidingwindow/3.png)

ç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼Œ`left` ä¸å†ç»§ç»­ç§»åŠ¨ï¼š

![](https://labuladong.online/algo/images/slidingwindow/4.png)

ä¹‹åé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå…ˆç§»åŠ¨ `right`ï¼Œå†ç§»åŠ¨ `left`â€¦â€¦ ç›´åˆ° `right` æŒ‡é’ˆåˆ°è¾¾å­—ç¬¦ä¸² `S` çš„æœ«ç«¯ï¼Œç®—æ³•ç»“æŸã€‚

å¦‚æœä½ èƒ½å¤Ÿç†è§£ä¸Šè¿°è¿‡ç¨‹ï¼Œæ­å–œï¼Œä½ å·²ç»å®Œå…¨æŒæ¡äº†æ»‘åŠ¨çª—å£ç®—æ³•æ€æƒ³ã€‚**ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªæ»‘åŠ¨çª—å£ä»£ç æ¡†æ¶æ€ä¹ˆç”¨**ï¼š

é¦–å…ˆï¼Œåˆå§‹åŒ– `window` å’Œ `need` ä¸¤ä¸ªå“ˆå¸Œè¡¨ï¼Œè®°å½•çª—å£ä¸­çš„å­—ç¬¦å’Œéœ€è¦å‡‘é½çš„å­—ç¬¦ï¼š

```cpp
unordered_map<char, int> need, window;
for (char c : t) need[c]++;
```

ç„¶åï¼Œä½¿ç”¨ `left` å’Œ `right` å˜é‡åˆå§‹åŒ–çª—å£çš„ä¸¤ç«¯ï¼Œä¸è¦å¿˜äº†ï¼ŒåŒºé—´ `[left, right)` æ˜¯å·¦é—­å³å¼€çš„ï¼Œæ‰€ä»¥åˆå§‹æƒ…å†µä¸‹çª—å£æ²¡æœ‰åŒ…å«ä»»ä½•å…ƒç´ ï¼š

```cpp
int left = 0, right = 0;
int valid = 0; 
while (right < s.size()) {
    // å¼€å§‹æ»‘åŠ¨
}
```

**å…¶ä¸­ `valid` å˜é‡è¡¨ç¤ºçª—å£ä¸­æ»¡è¶³ `need` æ¡ä»¶çš„å­—ç¬¦ä¸ªæ•°**ï¼Œå¦‚æœ `valid` å’Œ `need.size` çš„å¤§å°ç›¸åŒï¼Œåˆ™è¯´æ˜çª—å£å·²æ»¡è¶³æ¡ä»¶ï¼Œå·²ç»å®Œå…¨è¦†ç›–äº†ä¸² `T`ã€‚

**ç°åœ¨å¼€å§‹å¥—æ¨¡æ¿ï¼Œåªéœ€è¦æ€è€ƒä»¥ä¸‹å‡ ä¸ªé—®é¢˜**ï¼š

1ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç§»åŠ¨ `right` æ‰©å¤§çª—å£ï¼Ÿçª—å£åŠ å…¥å­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ

2ã€ä»€ä¹ˆæ—¶å€™çª—å£åº”è¯¥æš‚åœæ‰©å¤§ï¼Œå¼€å§‹ç§»åŠ¨ `left` ç¼©å°çª—å£ï¼Ÿä»çª—å£ç§»å‡ºå­—ç¬¦æ—¶ï¼Œåº”è¯¥æ›´æ–°å“ªäº›æ•°æ®ï¼Ÿ

3ã€æˆ‘ä»¬è¦çš„ç»“æœåº”è¯¥åœ¨æ‰©å¤§çª—å£æ—¶è¿˜æ˜¯ç¼©å°çª—å£æ—¶è¿›è¡Œæ›´æ–°ï¼Ÿ

å¦‚æœä¸€ä¸ªå­—ç¬¦è¿›å…¥çª—å£ï¼Œåº”è¯¥å¢åŠ  `window` è®¡æ•°å™¨ï¼›å¦‚æœä¸€ä¸ªå­—ç¬¦å°†ç§»å‡ºçª—å£çš„æ—¶å€™ï¼Œåº”è¯¥å‡å°‘ `window` è®¡æ•°å™¨ï¼›å½“ `valid` æ»¡è¶³ `need` æ—¶åº”è¯¥æ”¶ç¼©çª—å£ï¼›åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„æ—¶å€™æ›´æ–°æœ€ç»ˆç»“æœã€‚

ä¸‹é¢æ˜¯å®Œæ•´ä»£ç ï¼š

<!-- muliti_language -->
```cpp
string minWindow(string s, string t) {
    unordered_map<char, int> need, window;
    for (char c : t) need[c]++;

    int left = 0, right = 0;
    int valid = 0;
    // è®°å½•æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦
    int start = 0, len = INT_MAX;
    while (right < s.size()) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        char c = s[right];
        // æ‰©å¤§çª—å£
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        if (need.count(c)) {
            window[c]++;
            if (window[c] == need[c])
                valid++;
        }

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (valid == need.size()) {
            // åœ¨è¿™é‡Œæ›´æ–°æœ€å°è¦†ç›–å­ä¸²
            if (right - left < len) {
                start = left;
                len = right - left;
            }
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            char d = s[left];
            // ç¼©å°çª—å£
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.count(d)) {
                if (window[d] == need[d])
                    valid--;
                window[d]--;
            }                    
        }
    }
    // è¿”å›æœ€å°è¦†ç›–å­ä¸²
    return len == INT_MAX ?
        "" : s.substr(start, len);
}
```

<visual slug='minimum-window-substring' />

::: warning

ä½¿ç”¨ Java çš„è¯»è€…è¦å°¤å…¶è­¦æƒ•è¯­è¨€ç‰¹æ€§çš„é™·é˜±ã€‚Java çš„ Integerï¼ŒString ç­‰ç±»å‹åˆ¤å®šç›¸ç­‰åº”è¯¥ç”¨ `equals` æ–¹æ³•è€Œä¸èƒ½ç›´æ¥ç”¨ç­‰å· `==`ï¼Œè¿™æ˜¯ Java åŒ…è£…ç±»çš„ä¸€ä¸ªéšæ™¦ç»†èŠ‚ã€‚æ‰€ä»¥åœ¨ç¼©å°çª—å£æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥æ”¹å†™ä¸º `window.get(d) == need.get(d)`ï¼Œè€Œè¦ç”¨ `window.get(d).equals(need.get(d))`ï¼Œä¹‹åçš„é¢˜ç›®ä»£ç åŒç†ã€‚

:::

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬å‘ç°æŸä¸ªå­—ç¬¦åœ¨ `window` çš„æ•°é‡æ»¡è¶³äº† `need` çš„éœ€è¦ï¼Œå°±è¦æ›´æ–° `valid`ï¼Œè¡¨ç¤ºæœ‰ä¸€ä¸ªå­—ç¬¦å·²ç»æ»¡è¶³è¦æ±‚ã€‚è€Œä¸”ï¼Œä½ èƒ½å‘ç°ï¼Œä¸¤æ¬¡å¯¹çª—å£å†…æ•°æ®çš„æ›´æ–°æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚

å½“ `valid == need.size()` æ—¶ï¼Œè¯´æ˜ `T` ä¸­æ‰€æœ‰å­—ç¬¦å·²ç»è¢«è¦†ç›–ï¼Œå·²ç»å¾—åˆ°ä¸€ä¸ªå¯è¡Œçš„è¦†ç›–å­ä¸²ï¼Œç°åœ¨åº”è¯¥å¼€å§‹æ”¶ç¼©çª—å£äº†ï¼Œä»¥ä¾¿å¾—åˆ°ã€Œæœ€å°è¦†ç›–å­ä¸²ã€ã€‚

ç§»åŠ¨ `left` æ”¶ç¼©çª—å£æ—¶ï¼Œçª—å£å†…çš„å­—ç¬¦éƒ½æ˜¯å¯è¡Œè§£ï¼Œæ‰€ä»¥åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„é˜¶æ®µè¿›è¡Œæœ€å°è¦†ç›–å­ä¸²çš„æ›´æ–°ï¼Œä»¥ä¾¿ä»å¯è¡Œè§£ä¸­æ‰¾åˆ°é•¿åº¦æœ€çŸ­çš„æœ€ç»ˆç»“æœã€‚

è‡³æ­¤ï¼Œåº”è¯¥å¯ä»¥å®Œå…¨ç†è§£è¿™å¥—æ¡†æ¶äº†ï¼Œæ»‘åŠ¨çª—å£ç®—æ³•åˆä¸éš¾ï¼Œå°±æ˜¯ç»†èŠ‚é—®é¢˜è®©äººçƒ¦å¾—å¾ˆã€‚**ä»¥åé‡åˆ°æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œä½ å°±æŒ‰ç…§è¿™æ¡†æ¶å†™ä»£ç ï¼Œä¿å‡†æ²¡æœ‰ bugï¼Œè¿˜çœäº‹å„¿**ã€‚

ä¸‹é¢å°±ç›´æ¥åˆ©ç”¨è¿™å¥—æ¡†æ¶ç§’æ€å‡ é“é¢˜å§ï¼Œä½ åŸºæœ¬ä¸Šä¸€çœ¼å°±èƒ½çœ‹å‡ºæ€è·¯äº†ã€‚

### äºŒã€å­—ç¬¦ä¸²æ’åˆ—

è¿™æ˜¯åŠ›æ‰£ç¬¬ 567 é¢˜ã€Œå­—ç¬¦ä¸²çš„æ’åˆ—ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<Problem slug="permutation-in-string" />

æ³¨æ„å“¦ï¼Œè¾“å…¥çš„ `s1` æ˜¯å¯ä»¥åŒ…å«é‡å¤å­—ç¬¦çš„ï¼Œæ‰€ä»¥è¿™ä¸ªé¢˜éš¾åº¦ä¸å°ã€‚

è¿™ç§é¢˜ç›®ï¼Œæ˜¯æ˜æ˜¾çš„æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œ**ç›¸å½“ç»™ä½ ä¸€ä¸ª `S` å’Œä¸€ä¸ª `T`ï¼Œè¯·é—®ä½  `S` ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­ä¸²ï¼ŒåŒ…å« `T` ä¸­æ‰€æœ‰å­—ç¬¦ä¸”ä¸åŒ…å«å…¶ä»–å­—ç¬¦**ï¼Ÿ

é¦–å…ˆï¼Œå…ˆå¤åˆ¶ç²˜è´´ä¹‹å‰çš„ç®—æ³•æ¡†æ¶ä»£ç ï¼Œç„¶åæ˜ç¡®åˆšæ‰æå‡ºçš„å‡ ä¸ªé—®é¢˜ï¼Œå³å¯å†™å‡ºè¿™é“é¢˜çš„ç­”æ¡ˆï¼š

<!-- muliti_language -->
```cpp
// åˆ¤æ–­ s ä¸­æ˜¯å¦å­˜åœ¨ t çš„æ’åˆ—
bool checkInclusion(string t, string s) {
    unordered_map<char, int> need, window;
    for (char c : t) need[c]++;

    int left = 0, right = 0;
    int valid = 0;
    while (right < s.size()) {
        char c = s[right];
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        if (need.count(c)) {
            window[c]++;
            if (window[c] == need[c])
                valid++;
        }

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (right - left >= t.size()) {
            // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
            if (valid == need.size())
                return true;
            char d = s[left];
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.count(d)) {
                if (window[d] == need[d])
                    valid--;
                window[d]--;
            }
        }
    }
    // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­ä¸²
    return false;
}
```

<visual slug='permutation-in-string' />

å¯¹äºè¿™é“é¢˜çš„è§£æ³•ä»£ç ï¼ŒåŸºæœ¬ä¸Šå’Œæœ€å°è¦†ç›–å­ä¸²ä¸€æ¨¡ä¸€æ ·ï¼Œåªéœ€è¦æ”¹å˜å‡ ä¸ªåœ°æ–¹ï¼š

1ã€æœ¬é¢˜ç§»åŠ¨ `left` ç¼©å°çª—å£çš„æ—¶æœºæ˜¯çª—å£å¤§å°å¤§äº `t.size()` æ—¶ï¼Œå› ä¸ºæ’åˆ—å˜›ï¼Œæ˜¾ç„¶é•¿åº¦åº”è¯¥æ˜¯ä¸€æ ·çš„ã€‚

2ã€å½“å‘ç° `valid == need.size()` æ—¶ï¼Œå°±è¯´æ˜çª—å£ä¸­å°±æ˜¯ä¸€ä¸ªåˆæ³•çš„æ’åˆ—ï¼Œæ‰€ä»¥ç«‹å³è¿”å› `true`ã€‚

è‡³äºå¦‚ä½•å¤„ç†çª—å£çš„æ‰©å¤§å’Œç¼©å°ï¼Œå’Œæœ€å°è¦†ç›–å­ä¸²å®Œå…¨ç›¸åŒã€‚

::: note

ç”±äºè¿™é“é¢˜ä¸­ `[left, right)` å…¶å®ç»´æŠ¤çš„æ˜¯ä¸€ä¸ª**å®šé•¿**çš„çª—å£ï¼Œçª—å£å¤§å°ä¸º `t.size()`ã€‚å› ä¸ºå®šé•¿çª—å£æ¯æ¬¡å‘å‰æ»‘åŠ¨æ—¶åªä¼šç§»å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå†…å±‚çš„ while æ”¹æˆ ifï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚

:::

### ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯

è¿™æ˜¯åŠ›æ‰£ç¬¬ 438 é¢˜ã€Œæ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<Problem slug="find-all-anagrams-in-a-string" />

å‘µå‘µï¼Œè¿™ä¸ªæ‰€è°“çš„å­—æ¯å¼‚ä½è¯ï¼Œä¸å°±æ˜¯æ’åˆ—å—ï¼Œæä¸ªé«˜ç«¯çš„è¯´æ³•å°±èƒ½ç³Šå¼„äººäº†å—ï¼Ÿ**ç›¸å½“äºï¼Œè¾“å…¥ä¸€ä¸ªä¸² `S`ï¼Œä¸€ä¸ªä¸² `T`ï¼Œæ‰¾åˆ° `S` ä¸­æ‰€æœ‰ `T` çš„æ’åˆ—ï¼Œè¿”å›å®ƒä»¬çš„èµ·å§‹ç´¢å¼•**ã€‚

ç›´æ¥é»˜å†™ä¸€ä¸‹æ¡†æ¶ï¼Œæ˜ç¡®åˆšæ‰è®²çš„ 4 ä¸ªé—®é¢˜ï¼Œå³å¯ç§’æ€è¿™é“é¢˜ï¼š

<!-- muliti_language -->
```cpp
vector<int> findAnagrams(string s, string t) {
    unordered_map<char, int> need, window;
    for (char c : t) need[c]++;

    int left = 0, right = 0;
    int valid = 0;
    vector<int> res; // è®°å½•ç»“æœ
    while (right < s.size()) {
        char c = s[right];
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        if (need.count(c)) {
            window[c]++;
            if (window[c] == need[c]) 
                valid++;
        }
        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (right - left >= t.size()) {
            // å½“çª—å£ç¬¦åˆæ¡ä»¶æ—¶ï¼ŒæŠŠèµ·å§‹ç´¢å¼•åŠ å…¥ res
            if (valid == need.size())
                res.push_back(left);
            char d = s[left];
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if (need.count(d)) {
                if (window[d] == need[d])
                    valid--;
                window[d]--;
            }
        }
    }
    return res;
}
```

è·Ÿå¯»æ‰¾å­—ç¬¦ä¸²çš„æ’åˆ—ä¸€æ ·ï¼Œåªæ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆæ³•å¼‚ä½è¯ï¼ˆæ’åˆ—ï¼‰ä¹‹åå°†èµ·å§‹ç´¢å¼•åŠ å…¥ `res` å³å¯ã€‚

<visual slug='find-all-anagrams-in-a-string' />

### å››ã€æœ€é•¿æ— é‡å¤å­ä¸²

è¿™æ˜¯åŠ›æ‰£ç¬¬ 3 é¢˜ã€Œæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ã€ï¼Œéš¾åº¦ä¸­ç­‰ï¼š

<Problem slug="longest-substring-without-repeating-characters" />

è¿™ä¸ªé¢˜ç»ˆäºæœ‰äº†ç‚¹æ–°æ„ï¼Œä¸æ˜¯ä¸€å¥—æ¡†æ¶å°±å‡ºç­”æ¡ˆï¼Œä¸è¿‡åè€Œæ›´ç®€å•äº†ï¼Œç¨å¾®æ”¹ä¸€æ”¹æ¡†æ¶å°±è¡Œäº†ï¼š

<!-- muliti_language -->
```cpp
int lengthOfLongestSubstring(string s) {
    unordered_map<char, int> window;

    int left = 0, right = 0;
    int res = 0; // è®°å½•ç»“æœ
    while (right < s.size()) {
        char c = s[right];
        right++;
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        window[c]++;
        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while (window[c] > 1) {
            char d = s[left];
            left++;
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            window[d]--;
        }
        // åœ¨è¿™é‡Œæ›´æ–°ç­”æ¡ˆ
        res = max(res, right - left);
    }
    return res;
}
```

<visual slug='longest-substring-without-repeating-characters' />

è¿™å°±æ˜¯å˜ç®€å•äº†ï¼Œè¿ `need` å’Œ `valid` éƒ½ä¸éœ€è¦ï¼Œè€Œä¸”æ›´æ–°çª—å£å†…æ•°æ®ä¹Ÿåªéœ€è¦ç®€å•çš„æ›´æ–°è®¡æ•°å™¨ `window` å³å¯ã€‚

å½“ `window[c]` å€¼å¤§äº 1 æ—¶ï¼Œè¯´æ˜çª—å£ä¸­å­˜åœ¨é‡å¤å­—ç¬¦ï¼Œä¸ç¬¦åˆæ¡ä»¶ï¼Œå°±è¯¥ç§»åŠ¨ `left` ç¼©å°çª—å£äº†å˜›ã€‚

å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å“ªé‡Œæ›´æ–°ç»“æœ `res` å‘¢ï¼Ÿæˆ‘ä»¬è¦çš„æ˜¯æœ€é•¿æ— é‡å¤å­ä¸²ï¼Œå“ªä¸€ä¸ªé˜¶æ®µå¯ä»¥ä¿è¯çª—å£ä¸­çš„å­—ç¬¦ä¸²æ˜¯æ²¡æœ‰é‡å¤çš„å‘¢ï¼Ÿ

è¿™é‡Œå’Œä¹‹å‰ä¸ä¸€æ ·ï¼Œè¦åœ¨æ”¶ç¼©çª—å£å®Œæˆåæ›´æ–° `res`ï¼Œå› ä¸ºçª—å£æ”¶ç¼©çš„ while æ¡ä»¶æ˜¯å­˜åœ¨é‡å¤å…ƒç´ ï¼Œæ¢å¥è¯è¯´æ”¶ç¼©å®Œæˆåä¸€å®šä¿è¯çª—å£ä¸­æ²¡æœ‰é‡å¤å˜›ã€‚

å¥½äº†ï¼Œæ»‘åŠ¨çª—å£ç®—æ³•æ¨¡æ¿å°±è®²åˆ°è¿™é‡Œï¼Œå¸Œæœ›å¤§å®¶èƒ½ç†è§£å…¶ä¸­çš„æ€æƒ³ï¼Œè®°ä½ç®—æ³•æ¨¡æ¿å¹¶èä¼šè´¯é€šã€‚å›é¡¾ä¸€ä¸‹ï¼Œé‡åˆ°å­æ•°ç»„/å­ä¸²ç›¸å…³çš„é—®é¢˜ï¼Œä½ åªè¦èƒ½å›ç­”å‡ºæ¥ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼Œå°±èƒ½è¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼š

1ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥æ‰©å¤§çª—å£ï¼Ÿ

2ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç¼©å°çª—å£ï¼Ÿ

3ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥æ›´æ–°ç­”æ¡ˆï¼Ÿ

æˆ‘åœ¨ [æ»‘åŠ¨çª—å£ç»å…¸ä¹ é¢˜](https://labuladong.online/algo/problem-set/sliding-window/) ä¸­ä½¿ç”¨è¿™å¥—æ€ç»´æ¨¡å¼åˆ—ä¸¾äº†æ›´å¤šç»å…¸çš„ä¹ é¢˜ï¼Œæ—¨åœ¨å¼ºåŒ–ä½ å¯¹ç®—æ³•çš„ç†è§£å’Œè®°å¿†ï¼Œä»¥åå°±å†ä¹Ÿä¸æ€•å­ä¸²ã€å­æ•°ç»„é—®é¢˜äº†ã€‚



<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„æ–‡ç« </strong></summary>

 - [ã€å¼ºåŒ–ç»ƒä¹ ã€‘å‰ç¼€å’ŒæŠ€å·§ç»å…¸ä¹ é¢˜](https://labuladong.online/algo/problem-set/perfix-sum/)
 - [ã€å¼ºåŒ–ç»ƒä¹ ã€‘å•è°ƒé˜Ÿåˆ—çš„é€šç”¨å®ç°åŠç»å…¸ä¹ é¢˜](https://labuladong.online/algo/problem-set/monotonic-queue/)
 - [ã€å¼ºåŒ–ç»ƒä¹ ã€‘æ»‘åŠ¨çª—å£ç®—æ³•ç»å…¸ä¹ é¢˜](https://labuladong.online/algo/problem-set/sliding-window/)
 - [åˆ†æ²»ç®—æ³•è¯¦è§£ï¼šè¿ç®—ä¼˜å…ˆçº§](https://labuladong.online/algo/practice-in-action/divide-and-conquer/)
 - [åŠ¨æ€è§„åˆ’è®¾è®¡ï¼šæœ€å¤§å­æ•°ç»„](https://labuladong.online/algo/dynamic-programming/maximum-subarray/)
 - [å•è°ƒé˜Ÿåˆ—ç»“æ„è§£å†³æ»‘åŠ¨çª—å£é—®é¢˜](https://labuladong.online/algo/data-structure/monotonic-queue/)
 - [åŒæŒ‡é’ˆæŠ€å·§ç§’æ€ä¸ƒé“æ•°ç»„é¢˜ç›®](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/)
 - [å½’å¹¶æ’åºè¯¦è§£åŠåº”ç”¨](https://labuladong.online/algo/practice-in-action/merge-sort/)
 - [æˆ‘çš„åˆ·é¢˜å¿ƒå¾—ï¼šç®—æ³•çš„æœ¬è´¨](https://labuladong.online/algo/essential-technique/algorithm-summary/)
 - [æ»‘åŠ¨çª—å£ç®—æ³•å»¶ä¼¸ï¼šRabin Karp å­—ç¬¦åŒ¹é…ç®—æ³•](https://labuladong.online/algo/practice-in-action/rabinkarp/)
 - [ç¯å½¢æ•°ç»„æŠ€å·§](https://labuladong.online/algo/data-structure-basic/cycle-array/)
 - [ç®—æ³•æ—¶ç©ºå¤æ‚åº¦åˆ†æå®ç”¨æŒ‡å—](https://labuladong.online/algo/essential-technique/complexity-analysis/)

</details><hr>




<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„é¢˜ç›®</strong></summary>

<strong>å®‰è£… [æˆ‘çš„ Chrome åˆ·é¢˜æ’ä»¶](https://labuladong.online/algo/intro/chrome/) ç‚¹å¼€ä¸‹åˆ—é¢˜ç›®å¯ç›´æ¥æŸ¥çœ‹è§£é¢˜æ€è·¯ï¼š</strong>

| LeetCode | åŠ›æ‰£ |
| :----: | :----: |
| [1004. Max Consecutive Ones III](https://leetcode.com/problems/max-consecutive-ones-iii/?show=1) | [1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III](https://leetcode.cn/problems/max-consecutive-ones-iii/?show=1) |
| [1438. Longest Continuous Subarray With Absolute Diff Less Than or Equal to Limit](https://leetcode.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/?show=1) | [1438. ç»å¯¹å·®ä¸è¶…è¿‡é™åˆ¶çš„æœ€é•¿è¿ç»­å­æ•°ç»„](https://leetcode.cn/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/?show=1) |
| [1658. Minimum Operations to Reduce X to Zero](https://leetcode.com/problems/minimum-operations-to-reduce-x-to-zero/?show=1) | [1658. å°† x å‡åˆ° 0 çš„æœ€å°æ“ä½œæ•°](https://leetcode.cn/problems/minimum-operations-to-reduce-x-to-zero/?show=1) |
| [209. Minimum Size Subarray Sum](https://leetcode.com/problems/minimum-size-subarray-sum/?show=1) | [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/?show=1) |
| [219. Contains Duplicate II](https://leetcode.com/problems/contains-duplicate-ii/?show=1) | [219. å­˜åœ¨é‡å¤å…ƒç´  II](https://leetcode.cn/problems/contains-duplicate-ii/?show=1) |
| [220. Contains Duplicate III](https://leetcode.com/problems/contains-duplicate-iii/?show=1) | [220. å­˜åœ¨é‡å¤å…ƒç´  III](https://leetcode.cn/problems/contains-duplicate-iii/?show=1) |
| [340. Longest Substring with At Most K Distinct Characters](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/?show=1)ğŸ”’ | [340. è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-with-at-most-k-distinct-characters/?show=1)ğŸ”’ |
| [395. Longest Substring with At Least K Repeating Characters](https://leetcode.com/problems/longest-substring-with-at-least-k-repeating-characters/?show=1) | [395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-with-at-least-k-repeating-characters/?show=1) |
| [424. Longest Repeating Character Replacement](https://leetcode.com/problems/longest-repeating-character-replacement/?show=1) | [424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦](https://leetcode.cn/problems/longest-repeating-character-replacement/?show=1) |
| [560. Subarray Sum Equals K](https://leetcode.com/problems/subarray-sum-equals-k/?show=1) | [560. å’Œä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-sum-equals-k/?show=1) |
| [713. Subarray Product Less Than K](https://leetcode.com/problems/subarray-product-less-than-k/?show=1) | [713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-product-less-than-k/?show=1) |
| [862. Shortest Subarray with Sum at Least K](https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/?show=1) | [862. å’Œè‡³å°‘ä¸º K çš„æœ€çŸ­å­æ•°ç»„](https://leetcode.cn/problems/shortest-subarray-with-sum-at-least-k/?show=1) |
| - | [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/?show=1) |
| - | [å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—](https://leetcode.cn/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/?show=1) |
| - | [å‰‘æŒ‡ Offer II 008. å’Œå¤§äºç­‰äº target çš„æœ€çŸ­å­æ•°ç»„](https://leetcode.cn/problems/2VG8Kg/?show=1) |
| - | [å‰‘æŒ‡ Offer II 009. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode.cn/problems/ZVAVXX/?show=1) |
| - | [å‰‘æŒ‡ Offer II 010. å’Œä¸º k çš„å­æ•°ç»„](https://leetcode.cn/problems/QTMn0o/?show=1) |
| - | [å‰‘æŒ‡ Offer II 014. å­—ç¬¦ä¸²ä¸­çš„å˜ä½è¯](https://leetcode.cn/problems/MPnaiL/?show=1) |
| - | [å‰‘æŒ‡ Offer II 015. å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å˜ä½è¯](https://leetcode.cn/problems/VabMRr/?show=1) |
| - | [å‰‘æŒ‡ Offer II 016. ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/wtcaE1/?show=1) |
| - | [å‰‘æŒ‡ Offer II 017. å«æœ‰æ‰€æœ‰å­—ç¬¦çš„æœ€çŸ­å­—ç¬¦ä¸²](https://leetcode.cn/problems/M1oyTv/?show=1) |
| - | [å‰‘æŒ‡ Offer II 057. å€¼å’Œä¸‹æ ‡ä¹‹å·®éƒ½åœ¨ç»™å®šçš„èŒƒå›´å†…](https://leetcode.cn/problems/7WqeDu/?show=1) |

</details>
<hr>



**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•ç¬”è®°ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.online/algo/images/souyisou2.png)