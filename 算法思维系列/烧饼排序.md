# çƒ§é¥¼æ’åº

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://appktavsiei5995.pc.xiaoe-tech.com/index" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.github.io/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ï¼›[ç¬¬ 12 æœŸåˆ·é¢˜æ‰“å¡](https://mp.weixin.qq.com/s/eUG2OOzY3k_ZTz-CFvtv5Q) æœ€åä¸€å¤©æŠ¥åï¼›ç‚¹å‡»è¿™é‡Œä½“éªŒ [åˆ·é¢˜å…¨å®¶æ¡¶](https://labuladong.gitee.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg)ã€‚å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.gitee.io/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [969. Pancake Sorting](https://leetcode.com/problems/pancake-sorting/) | [969. ç…é¥¼æ’åº](https://leetcode.cn/problems/pancake-sorting/) | ğŸŸ 

**-----------**

åŠ›æ‰£ç¬¬ 969 é¢˜ã€Œç…é¥¼æ’åºã€æ˜¯ä¸ªå¾ˆæœ‰æ„æ€çš„å®é™…é—®é¢˜ï¼šå‡è®¾ç›˜å­ä¸Šæœ‰ `n` å—**é¢ç§¯å¤§å°ä¸ä¸€**çš„çƒ§é¥¼ï¼Œä½ å¦‚ä½•ç”¨ä¸€æŠŠé”…é“²è¿›è¡Œè‹¥å¹²æ¬¡ç¿»è½¬ï¼Œè®©è¿™äº›çƒ§é¥¼çš„å¤§å°æœ‰åºï¼ˆå°çš„åœ¨ä¸Šï¼Œå¤§çš„åœ¨ä¸‹ï¼‰ï¼Ÿ

![](https://labuladong.github.io/algo/images/pancakeSort/1.jpg)

è®¾æƒ³ä¸€ä¸‹ç”¨é”…é“²ç¿»è½¬ä¸€å †çƒ§é¥¼çš„æƒ…æ™¯ï¼Œå…¶å®æ˜¯æœ‰ä¸€ç‚¹é™åˆ¶çš„ï¼Œæˆ‘ä»¬æ¯æ¬¡åªèƒ½å°†æœ€ä¸Šé¢çš„è‹¥å¹²å—é¥¼å­ç¿»è½¬ï¼š

![](https://labuladong.github.io/algo/images/pancakeSort/2.png)

æˆ‘ä»¬çš„é—®é¢˜æ˜¯ï¼Œ**å¦‚ä½•ä½¿ç”¨ç®—æ³•å¾—åˆ°ä¸€ä¸ªç¿»è½¬åºåˆ—ï¼Œä½¿å¾—çƒ§é¥¼å †å˜å¾—æœ‰åº**ï¼Ÿ

é¦–å…ˆï¼Œéœ€è¦æŠŠè¿™ä¸ªé—®é¢˜æŠ½è±¡ï¼Œç”¨æ•°ç»„æ¥è¡¨ç¤ºçƒ§é¥¼å †ï¼š

![](https://labuladong.github.io/algo/images/pancakeSort/title.png)

å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå…¶å®ç±»ä¼¼ä¸Šç¯‡æ–‡ç«  [é€’å½’åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†](https://labuladong.github.io/article/fname.html?fname=é€’å½’åè½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†)ï¼Œè¿™ä¹Ÿæ˜¯éœ€è¦**é€’å½’æ€æƒ³**çš„ã€‚

### ä¸€ã€æ€è·¯åˆ†æ

ä¸ºä»€ä¹ˆè¯´è¿™ä¸ªé—®é¢˜æœ‰é€’å½’æ€§è´¨å‘¢ï¼Ÿæ¯”å¦‚è¯´æˆ‘ä»¬éœ€è¦å®ç°è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼š

```java
// cakes æ˜¯ä¸€å †çƒ§é¥¼ï¼Œå‡½æ•°ä¼šå°†å‰ n ä¸ªçƒ§é¥¼æ’åº
void sort(int[] cakes, int n);
```

å¦‚æœæˆ‘ä»¬æ‰¾åˆ°äº†å‰ `n` ä¸ªçƒ§é¥¼ä¸­æœ€å¤§çš„é‚£ä¸ªï¼Œç„¶åè®¾æ³•å°†è¿™ä¸ªé¥¼å­ç¿»è½¬åˆ°æœ€åº•ä¸‹ï¼š

![](https://labuladong.github.io/algo/images/pancakeSort/3.jpg)

é‚£ä¹ˆï¼ŒåŸé—®é¢˜çš„è§„æ¨¡å°±å¯ä»¥å‡å°ï¼Œé€’å½’è°ƒç”¨ `pancakeSort(A, n-1)` å³å¯ï¼š

![](https://labuladong.github.io/algo/images/pancakeSort/4.jpg)

æ¥ä¸‹æ¥ï¼Œå¯¹äºä¸Šé¢çš„è¿™ `n - 1` å—é¥¼ï¼Œå¦‚ä½•æ’åºå‘¢ï¼Ÿè¿˜æ˜¯å…ˆä»ä¸­æ‰¾åˆ°æœ€å¤§çš„ä¸€å—é¥¼ï¼Œç„¶åæŠŠè¿™å—é¥¼æ”¾åˆ°åº•ä¸‹ï¼Œå†é€’å½’è°ƒç”¨ `pancakeSort(A, n-1-1)`â€¦â€¦

ä½ çœ‹ï¼Œè¿™å°±æ˜¯é€’å½’æ€§è´¨ï¼Œæ€»ç»“ä¸€ä¸‹æ€è·¯å°±æ˜¯ï¼š

1ã€æ‰¾åˆ° `n` ä¸ªé¥¼ä¸­æœ€å¤§çš„é‚£ä¸ªã€‚

2ã€æŠŠè¿™ä¸ªæœ€å¤§çš„é¥¼ç§»åˆ°æœ€åº•ä¸‹ã€‚

3ã€é€’å½’è°ƒç”¨ `pancakeSort(A, n - 1)`ã€‚

base caseï¼š`n == 1` æ—¶ï¼Œæ’åº 1 ä¸ªé¥¼æ—¶ä¸éœ€è¦ç¿»è½¬ã€‚

é‚£ä¹ˆï¼Œæœ€åå‰©ä¸‹ä¸ªé—®é¢˜ï¼Œ**å¦‚ä½•è®¾æ³•å°†æŸå—çƒ§é¥¼ç¿»åˆ°æœ€åå‘¢**ï¼Ÿ

å…¶å®å¾ˆç®€å•ï¼Œæ¯”å¦‚ç¬¬ 3 å—é¥¼æ˜¯æœ€å¤§çš„ï¼Œæˆ‘ä»¬æƒ³æŠŠå®ƒæ¢åˆ°æœ€åï¼Œä¹Ÿå°±æ˜¯æ¢åˆ°ç¬¬ `n` å—ã€‚å¯ä»¥è¿™æ ·æ“ä½œï¼š

1ã€ç”¨é”…é“²å°†å‰ 3 å—é¥¼ç¿»è½¬ä¸€ä¸‹ï¼Œè¿™æ ·æœ€å¤§çš„é¥¼å°±ç¿»åˆ°äº†æœ€ä¸Šé¢ã€‚

2ã€ç”¨é”…é“²å°†å‰ `n` å—é¥¼å…¨éƒ¨ç¿»è½¬ï¼Œè¿™æ ·æœ€å¤§çš„é¥¼å°±ç¿»åˆ°äº†ç¬¬ `n` å—ï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€å—ã€‚

ä»¥ä¸Šä¸¤ä¸ªæµç¨‹ç†è§£ä¹‹åï¼ŒåŸºæœ¬å°±å¯ä»¥å†™å‡ºè§£æ³•äº†ï¼Œä¸è¿‡é¢˜ç›®è¦æ±‚æˆ‘ä»¬å†™å‡ºå…·ä½“çš„åè½¬æ“ä½œåºåˆ—ï¼Œè¿™ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨æ¯æ¬¡ç¿»è½¬çƒ§é¥¼æ—¶è®°å½•ä¸‹æ¥å°±è¡Œäº†ã€‚    

### äºŒã€ä»£ç å®ç°

åªè¦æŠŠä¸Šè¿°çš„æ€è·¯ç”¨ä»£ç å®ç°å³å¯ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°ç»„ç´¢å¼•ä» 0 å¼€å§‹ï¼Œè€Œæˆ‘ä»¬è¦è¿”å›çš„ç»“æœæ˜¯ä» 1 å¼€å§‹ç®—çš„ã€‚

```java
// è®°å½•åè½¬æ“ä½œåºåˆ—
LinkedList<Integer> res = new LinkedList<>();

List<Integer> pancakeSort(int[] cakes) {
    sort(cakes, cakes.length);
    return res;
}

void sort(int[] cakes, int n) {
    // base case
    if (n == 1) return;
    
    // å¯»æ‰¾æœ€å¤§é¥¼çš„ç´¢å¼•
    int maxCake = 0;
    int maxCakeIndex = 0;
    for (int i = 0; i < n; i++)
        if (cakes[i] > maxCake) {
            maxCakeIndex = i;
            maxCake = cakes[i];
        }
    
    // ç¬¬ä¸€æ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸Šé¢
    reverse(cakes, 0, maxCakeIndex);
    res.add(maxCakeIndex + 1);
    // ç¬¬äºŒæ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸‹é¢
    reverse(cakes, 0, n - 1);
    res.add(n);

    // é€’å½’è°ƒç”¨
    sort(cakes, n - 1);
}

void reverse(int[] arr, int i, int j) {
    while (i < j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
        i++; j--;
    }
}
```

é€šè¿‡åˆšæ‰çš„è¯¦ç»†è§£é‡Šï¼Œè¿™æ®µä»£ç åº”è¯¥æ˜¯å¾ˆæ¸…æ™°äº†ã€‚

ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¾ˆå®¹æ˜“è®¡ç®—ï¼Œå› ä¸ºé€’å½’è°ƒç”¨çš„æ¬¡æ•°æ˜¯ `n`ï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½éœ€è¦ä¸€æ¬¡ for å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œæ‰€ä»¥æ€»çš„å¤æ‚åº¦æ˜¯ O(n^2)ã€‚

**æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸ªé—®é¢˜â€‹**ï¼šæŒ‰ç…§æˆ‘ä»¬è¿™ä¸ªæ€è·¯ï¼Œå¾—å‡ºçš„æ“ä½œåºåˆ—é•¿åº¦åº”è¯¥ä¸ºâ€‹ `2(n - 1)`ï¼Œå› ä¸ºæ¯æ¬¡é€’å½’éƒ½è¦è¿›è¡Œ 2 æ¬¡ç¿»è½¬å¹¶è®°å½•æ“ä½œï¼Œæ€»å…±æœ‰ `n` å±‚é€’å½’ï¼Œä½†ç”±äº base case ç›´æ¥è¿”å›ç»“æœï¼Œä¸è¿›è¡Œç¿»è½¬ï¼Œæ‰€ä»¥æœ€ç»ˆçš„æ“ä½œåºåˆ—é•¿åº¦åº”è¯¥æ˜¯å›ºå®šçš„ `2(n - 1)`ã€‚

æ˜¾ç„¶ï¼Œè¿™ä¸ªç»“æœä¸æ˜¯æœ€ä¼˜çš„ï¼ˆæœ€çŸ­çš„ï¼‰ï¼Œæ¯”å¦‚è¯´ä¸€å †ç…é¥¼ `[3,2,4,1]`ï¼Œæˆ‘ä»¬çš„ç®—æ³•å¾—åˆ°çš„ç¿»è½¬åºåˆ—æ˜¯ `[3,4,2,3,1,2]`ï¼Œä½†æ˜¯æœ€å¿«æ·çš„ç¿»è½¬æ–¹æ³•åº”è¯¥æ˜¯ `[2,3,4]`ï¼š

```
åˆå§‹çŠ¶æ€ ï¼š[3,2,4,1]
ç¿»å‰ 2 ä¸ªï¼š[2,3,4,1]
ç¿»å‰ 3 ä¸ªï¼š[4,3,2,1]
ç¿»å‰ 4 ä¸ªï¼š[1,2,3,4]
```

å¦‚æœè¦æ±‚ä½ çš„ç®—æ³•è®¡ç®—æ’åºçƒ§é¥¼çš„**æœ€çŸ­**æ“ä½œåºåˆ—ï¼Œä½ è¯¥å¦‚ä½•è®¡ç®—å‘¢ï¼Ÿæˆ–è€…è¯´ï¼Œè§£å†³è¿™ç§æ±‚æœ€ä¼˜è§£æ³•çš„é—®é¢˜ï¼Œæ ¸å¿ƒæ€è·¯ä»€ä¹ˆï¼Œä¸€å®šéœ€è¦ä½¿ç”¨ä»€ä¹ˆç®—æ³•æŠ€å·§å‘¢ï¼Ÿ

ä¸å¦¨åˆ†äº«ä¸€ä¸‹ä½ çš„æ€è€ƒã€‚





**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•å°æŠ„ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤å…³é”®è¯ã€Œ**è¿›ç¾¤**ã€å¯åŠ å…¥ç®—æ³•ç¾¤ï¼›å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.github.io/algo/images/souyisou2.png)


======å…¶ä»–è¯­è¨€ä»£ç ======

[969.ç…é¥¼æ’åº](https://leetcode-cn.com/problems/pancake-sorting)



### python3

[fengshuu](https://github.com/fengshuu) æä¾› Python3 è§£æ³•ä»£ç ï¼š

```python
class Solution:
    # è®°å½•åè½¬æ“ä½œåºåˆ—
    def __init__(self):
        self.res = []

    def pancakeSort(self, arr: List[int]) -> List[int]:

        self.sort(arr, len(arr))
        return self.res

    def sort(self, cakes: List[int], n: int):
        # base case
        if 1 == n:
            return

        # å¯»æ‰¾æœ€å¤§é¥¼çš„ç´¢å¼•
        max_cake_index = cakes[:n].index(n)

        # ä¸‹é¢è¿›è¡ŒæŠŠæœ€å¤§çš„é¥¼æ”¾åˆ°æœ€åçš„ä¸¤æ¬¡ç¿»è½¬
        # å¦‚æœæœ€åä¸€ä¸ªé¥¼å°±æ˜¯æœ€å¤§çš„, å°±ä¸éœ€è¦ç¿»è½¬, ç›´æ¥è¿›è¡Œä¸‹æ¬¡é€’å½’
        if max_cake_index != n - 1:
            # ç¬¬ä¸€æ¬¡ç¿»è½¬, å°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸Šé¢
            # å¦‚æœç¬¬ä¸€ä¸ªé¥¼æœ¬æ¥å°±æ˜¯æœ€å¤§çš„, å°±ä¸éœ€è¦ç¬¬ä¸€æ¬¡ç¿»è½¬.
            if max_cake_index != 0:
                cakes[:max_cake_index + 1] = cakes[:max_cake_index + 1][::-1]
                self.res.append(max_cake_index + 1)

            # ç¬¬äºŒæ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸‹é¢
            cakes[:n] = cakes[:n][::-1]
            self.res.append(n)

        # é€’å½’è°ƒç”¨
        self.sort(cakes, n - 1)
```


### c++

[fengshuu](https://github.com/fengshuu) æä¾› C++ è§£æ³•ä»£ç ï¼š

```cpp
class Solution {
public:
    vector<int> pancakeSort(vector<int>& arr) {
        sort(arr, arr.size());
        return res;
    }
    
private:
    // è®°å½•åè½¬æ“ä½œåºåˆ—
    vector<int> res;
    void sort(vector<int>& cakes, int n){
        // base case
        if(n == 1) return;
        
        // å¯»æ‰¾æœ€å¤§é¥¼çš„ç´¢å¼•
        int maxCakeIndex = max_element(cakes.begin(), cakes.begin() + n) - cakes.begin();
        
        // ä¸‹é¢è¿›è¡ŒæŠŠæœ€å¤§çš„é¥¼æ”¾åˆ°æœ€åçš„ä¸¤æ¬¡ç¿»è½¬
        // å¦‚æœæœ€åä¸€ä¸ªé¥¼å°±æ˜¯æœ€å¤§çš„, å°±ä¸éœ€è¦ç¿»è½¬, ç›´æ¥è¿›è¡Œä¸‹æ¬¡é€’å½’
        if (maxCakeIndex == n-1){
            sort(cakes, n - 1);
            return;
        }
            
        // ç¬¬ä¸€æ¬¡ç¿»è½¬, å°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸Šé¢
        // å¦‚æœç¬¬ä¸€ä¸ªé¥¼æœ¬æ¥å°±æ˜¯æœ€å¤§çš„, å°±ä¸éœ€è¦ç¬¬ä¸€æ¬¡ç¿»è½¬.
        if (maxCakeIndex != 0) {
            reverse(cakes.begin(), cakes.begin() + maxCakeIndex + 1);
            res.push_back(maxCakeIndex + 1);
        }
        
        // ç¬¬äºŒæ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸‹é¢
        reverse(cakes.begin(), cakes.begin() + n);
        res.push_back(n);
        
        // é€’å½’è°ƒç”¨
        sort(cakes, n - 1);
    }
};
```

### java

[L-WEIWEI](https://github.com/L-WWEEII) æä¾› ç¬¬969é¢˜çš„ Java ä»£ç ï¼š

```java
class Solution {
    public List<Integer> pancakeSort(int[] A) {
        List<Integer> ans = new ArrayList<Integer>();
        int len = A.length;
        if(len == 0){
            return ans;
        }
        // maxIndex[0] == å½“å‰è½®æ¬¡çš„æœ€å¤§å…ƒç´ ï¼Œ maxIndex[1] == æœ€å¤§å…ƒç´ ä¸‹æ ‡
        int[] maxIndex = new int[2];
        maxIndex[0] = Integer.MIN_VALUE;
        int maxCount = 0;
        // maxCount == len æ—¶ï¼Œè¯´æ˜å®Œæˆäº†æ•´ä¸ªæ•°ç»„çš„æœ€å¤§å€¼æ²‰åº•æ“ä½œï¼Œ
        while(maxCount < len - 1){
            maxCount = maxValueDown(A, maxIndex, maxCount, ans);
            // æ¯åšå®Œä¸€æ¬¡æœ€å¤§å€¼æ²‰åº•æ“ä½œï¼Œåˆå§‹åŒ–æœ€å¤§å…ƒç´ å€¼
            maxIndex[0] = Integer.MIN_VALUE;
        }
        return ans;
    }
    public int maxValueDown(int[] A, int[] maxIndex, int maxCount, List<Integer> ans){
        // éå†æ¡ä»¶ä¸º i < A.length - maxCount ï¼Œ æ¯æ¬¡æœ€å¤§å€¼æ²‰åº•æ—¶ï¼ŒmaxCount + 1ï¼Œå› æ­¤ä¸‹æ¬¡éå†å³å¯ä¸å¯¹æœ€å maxCount ä¸ªå…ƒç´ åšæ“ä½œ
        for(int i = 0; i < A.length - maxCount; i++){
            // å…ƒç´ å¤§äºå½“å‰å‚¨å­˜çš„å…ƒç´ æ—¶ï¼Œå°†å€¼ä¸ä¸‹æ ‡ copy åˆ° maxIndex æ•°ç»„ä¸­
            if(A[i] > maxIndex[0]){
                maxIndex[0] = A[i];
                maxIndex[1] = i;
            }
        }
        // å¦‚æœå½“å‰è½®æ¬¡æœ€å¤§å…ƒç´ çš„ä¸‹æ ‡çš„ä¸‹ä¸€ä½æ˜¯ä¸Šä¸€è½®æ¬¡çš„æœ€å¤§ä¸‹æ ‡ï¼Œåˆ™ä¸åšç¿»è½¬æ“ä½œï¼Œç›´æ¥è¿”å› maxCount + 1 
        if(maxIndex[1] + 1 == A.length - maxCount){
            return maxCount + 1;
        }
        // ä½¿ç”¨æœ€å¤§å€¼æ²‰åº•æ—¶ï¼Œå½“æœ¬è½®æœ€å¤§å€¼åœ¨é¦–ä½æ—¶ï¼Œä¸éœ€è¦å†å°†å…¶å…ˆç¿»è½¬è‡³é¦–ä½ï¼Œæ‰€ä»¥ä¸æ·»åŠ 
        if(maxIndex[1] > 0){
            // å°†è¯¥è½®æ¬¡è¦ç¿»è½¬çš„ä¸‹æ ‡æ·»åŠ åˆ°ç»“æœé›†ä¸­ï¼Œç»“æœé›†ä¸­éœ€è¦çš„æ˜¯ç¿»è½¬çš„ä½ç½®è€Œä¸æ˜¯ä¸‹æ ‡ï¼Œæ‰€ä»¥æ·»åŠ æ—¶ä¸‹æ ‡å¾— + 1
            ans.add(maxIndex[1] + 1);
        }
        // åŒæŒ‡é’ˆåŸåœ°äº¤æ¢æ•°ç»„ä¸­çš„å€¼
        // å·¦æŒ‡é’ˆæŒ‡0
        int left = 0;
        // å³æŒ‡é’ˆæŒ‡å‘å½“å‰è½®æ¬¡æœ€å¤§å…ƒç´ çš„ä¸‹æ ‡
        int right = maxIndex[1];
        while(left < right){
            // äº¤æ¢å…ƒç´ å€¼
            A[left] += A[right];
            A[right] = A[left] - A[right];
            A[left] -= A[right];
            left++;
            right--;
        }
        // ä¸Šé¢äº¤æ¢ç©å…ƒç´ å€¼åï¼Œå½“å‰è½®æ¬¡æœ€å¤§å…ƒç´ æ’åœ¨é¦–ä½ï¼Œå†ä»ä¸Šä¸€è½®æ¬¡æœ€å¤§å…ƒç´  - 1 çš„ä½ç½®ç¿»è½¬
        //     åˆ™å½“å‰è½®æ¬¡çš„æœ€å¤§å…ƒç´ æˆåŠŸæ²‰åº•
        ans.add(A.length - maxCount);
        left = 0;
        right = A.length - 1 - maxCount;
        while(left < right){
            A[left] += A[right];
            A[right] = A[left] - A[right];
            A[left] -= A[right];
            left++;
            right--;
        }
        return maxCount + 1;
    }
}
```



### javascript

```js
/**
 * @param {number[]} arr
 * @return {number[]}
 */
var pancakeSort = function (arr) {
    let res = []

    const sort = (cakes, n) => {
        // base case
        if (n === 1) return;

        // å¯»æ‰¾æœ€å¤§é¥¼çš„ç´¢å¼•
        let maxCake = 0;
        let maxCakeIndex = 0;
        for (let i = 0; i < n; i++)
            if (cakes[i] > maxCake) {
                maxCakeIndex = i;
                maxCake = cakes[i];
            }

        // ç¬¬ä¸€æ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸Šé¢
        reverse(cakes, 0, maxCakeIndex);
        res.push(maxCakeIndex + 1);
        // ç¬¬äºŒæ¬¡ç¿»è½¬ï¼Œå°†æœ€å¤§é¥¼ç¿»åˆ°æœ€ä¸‹é¢
        reverse(cakes, 0, n - 1);
        res.push(n);

        // é€’å½’è°ƒç”¨
        sort(cakes, n - 1);
    }

    let reverse = (arr, i, j) => {
        while (i < j) {
            let temp = arr[i];
            arr[i] = arr[j];
            arr[j] = temp;
            i++;
            j--;
        }
    }
    
    sort(arr, arr.length)
    return res;
};
```

ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚

```js
var reserve = function (nums, k) {
    let l = 0, r = k - 1
    while (l < r) {
        let temp = nums[l]
        nums[l] = nums[r]
        nums[r] = temp
        l++
        r--
    }
}
/**
 * @param {number[]} arr
 * @return {number[]}
 */
var pancakeSort = function (arr) {
    let n = arr.length
    if (n === 0) return []
    let nums = [...arr], ans = []
    nums.sort((a, b) => a - b)
    for (let i = n - 1, j = 0; i > -1; i--, j++) {
        let index = arr.indexOf(nums[i])
        ans.push(index + 1, n - j)
        reserve(arr, index + 1)
        reserve(arr, n - j)
    }
    return ans
};
```

