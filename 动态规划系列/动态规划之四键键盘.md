# åŠ¨æ€è§„åˆ’ä¹‹å››é”®é”®ç›˜

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://appktavsiei5995.pc.xiaoe-tech.com/index" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.github.io/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ï¼›[ç¬¬ 12 æœŸåˆ·é¢˜æ‰“å¡](https://mp.weixin.qq.com/s/eUG2OOzY3k_ZTz-CFvtv5Q) æœ€åä¸€å¤©æŠ¥åï¼›ç‚¹å‡»è¿™é‡Œä½“éªŒ [åˆ·é¢˜å…¨å®¶æ¡¶](https://labuladong.gitee.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg)ã€‚å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.gitee.io/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [651. 4 Keys Keyboard](https://leetcode.com/problems/4-keys-keyboard/)ğŸ”’ | [651. 4é”®é”®ç›˜](https://leetcode.cn/problems/4-keys-keyboard/)ğŸ”’ | ğŸŸ 

**-----------**

åŠ›æ‰£ç¬¬ 651 é¢˜ã€Œå››é”®é”®ç›˜ã€å¾ˆæœ‰æ„æ€ï¼Œè€Œä¸”å¯ä»¥æ˜æ˜¾æ„Ÿå—åˆ°ï¼šå¯¹ `dp` æ•°ç»„çš„ä¸åŒå®šä¹‰éœ€è¦å®Œå…¨ä¸åŒçš„é€»è¾‘ï¼Œä»è€Œäº§ç”Ÿå®Œå…¨ä¸åŒçš„è§£æ³•ã€‚

é¦–å…ˆçœ‹ä¸€ä¸‹é¢˜ç›®ï¼š

å‡è®¾ä½ æœ‰ä¸€ä¸ªç‰¹æ®Šçš„é”®ç›˜ï¼Œä¸Šé¢åªæœ‰å››ä¸ªé”®ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š

1ã€`A` é”®ï¼šåœ¨å±å¹•ä¸Šæ‰“å°ä¸€ä¸ª `A`ã€‚

2ã€`Ctrl-A` é”®ï¼šé€‰ä¸­æ•´ä¸ªå±å¹•ã€‚

3ã€`Ctrl-C` é”®ï¼šå¤åˆ¶é€‰ä¸­çš„åŒºåŸŸåˆ°ç¼“å†²åŒºã€‚

4ã€`Ctrl-V` é”®ï¼šå°†ç¼“å†²åŒºçš„å†…å®¹è¾“å…¥åˆ°å…‰æ ‡æ‰€åœ¨çš„å±å¹•ä¸Šã€‚

è¿™å°±å’Œæˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„å…¨é€‰å¤åˆ¶ç²˜è´´åŠŸèƒ½å®Œå…¨ç›¸åŒå˜›ï¼Œåªä¸è¿‡é¢˜ç›®æŠŠ `Ctrl` çš„ç»„åˆé”®è§†ä¸ºäº†ä¸€ä¸ªé”®ã€‚ç°åœ¨è¦æ±‚ä½ åªèƒ½è¿›è¡Œ `N` æ¬¡æ“ä½œï¼Œè¯·ä½ è®¡ç®—å±å¹•ä¸Šæœ€å¤šèƒ½æ˜¾ç¤ºå¤šå°‘ä¸ª `A`ï¼Ÿ

å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```java
int maxA(int N);
```

æ¯”å¦‚è¯´è¾“å…¥ `N = 3`ï¼Œç®—æ³•è¿”å› 3ï¼Œå› ä¸ºè¿æŒ‰ 3 æ¬¡ `A` é”®æ˜¯æœ€ä¼˜çš„æ–¹æ¡ˆã€‚

å¦‚æœè¾“å…¥æ˜¯ `N = 7`ï¼Œåˆ™ç®—æ³•è¿”å› 9ï¼Œæœ€ä¼˜çš„æ“ä½œåºåˆ—å¦‚ä¸‹ï¼š

`A`, `A`, `A`, `Ctrl-A`, `Ctrl-C`, `Ctrl-V`, `Ctrl-V`

å¯ä»¥å¾—åˆ° 9 ä¸ª `A`ã€‚

å¦‚ä½•åœ¨ `N` æ¬¡æ•²å‡»æŒ‰é’®åå¾—åˆ°æœ€å¤šçš„ `A`ï¼Ÿæˆ‘ä»¬ç©·ä¸¾å‘—ï¼Œæ¯æ¬¡æœ‰å¯¹äºæ¯æ¬¡æŒ‰é”®ï¼Œæˆ‘ä»¬å¯ä»¥ç©·ä¸¾å››ç§å¯èƒ½ï¼Œå¾ˆæ˜æ˜¾å°±æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚

### ç¬¬ä¸€ç§æ€è·¯

è¿™ç§æ€è·¯ä¼šå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯æ•ˆç‡å¹¶ä¸é«˜ï¼Œæˆ‘ä»¬ç›´æ¥èµ°æµç¨‹ï¼š**å¯¹äºåŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œé¦–å…ˆè¦æ˜ç™½æœ‰å“ªäº›ã€ŒçŠ¶æ€ã€ï¼Œæœ‰å“ªäº›ã€Œé€‰æ‹©ã€**ã€‚

å…·ä½“åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¯¹äºæ¯æ¬¡æ•²å‡»æŒ‰é”®ï¼Œæœ‰å“ªäº›ã€Œé€‰æ‹©ã€æ˜¯å¾ˆæ˜æ˜¾çš„ï¼š4 ç§ï¼Œå°±æ˜¯é¢˜ç›®ä¸­æåˆ°çš„å››ä¸ªæŒ‰é”®ï¼Œåˆ†åˆ«æ˜¯ `A`ã€`C-A`ã€`C-C`ã€`C-V`ï¼ˆ`Ctrl` ç®€å†™ä¸º `C`ï¼‰ã€‚

æ¥ä¸‹æ¥ï¼Œæ€è€ƒä¸€ä¸‹å¯¹äºè¿™ä¸ªé—®é¢˜æœ‰å“ªäº›ã€ŒçŠ¶æ€ã€ï¼Ÿ**æˆ–è€…æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä»€ä¹ˆä¿¡æ¯ï¼Œæ‰èƒ½å°†åŸé—®é¢˜åˆ†è§£ä¸ºè§„æ¨¡æ›´å°çš„å­é—®é¢˜**ï¼Ÿ

ä½ çœ‹æˆ‘è¿™æ ·å®šä¹‰ä¸‰ä¸ªçŠ¶æ€è¡Œä¸è¡Œï¼šç¬¬ä¸€ä¸ªçŠ¶æ€æ˜¯å‰©ä½™çš„æŒ‰é”®æ¬¡æ•°ï¼Œç”¨ `n` è¡¨ç¤ºï¼›ç¬¬äºŒä¸ªçŠ¶æ€æ˜¯å½“å‰å±å¹•ä¸Šå­—ç¬¦ A çš„æ•°é‡ï¼Œç”¨ `a_num` è¡¨ç¤ºï¼›ç¬¬ä¸‰ä¸ªçŠ¶æ€æ˜¯å‰ªåˆ‡æ¿ä¸­å­—ç¬¦ A çš„æ•°é‡ï¼Œç”¨ `copy` è¡¨ç¤ºã€‚

å¦‚æ­¤å®šä¹‰ã€ŒçŠ¶æ€ã€ï¼Œå°±å¯ä»¥çŸ¥é“ base caseï¼šå½“å‰©ä½™æ¬¡æ•° `n` ä¸º 0 æ—¶ï¼Œ`a_num` å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€‚

ç»“åˆåˆšæ‰è¯´çš„ 4 ç§ã€Œé€‰æ‹©ã€ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™å‡ ç§é€‰æ‹©é€šè¿‡çŠ¶æ€è½¬ç§»è¡¨ç¤ºå‡ºæ¥ï¼š

```python
dp(n - 1, a_num + 1, copy),    # A
è§£é‡Šï¼šæŒ‰ä¸‹ A é”®ï¼Œå±å¹•ä¸ŠåŠ ä¸€ä¸ªå­—ç¬¦
åŒæ—¶æ¶ˆè€— 1 ä¸ªæ“ä½œæ•°

dp(n - 1, a_num + copy, copy), # C-V
è§£é‡Šï¼šæŒ‰ä¸‹ C-V ç²˜è´´ï¼Œå‰ªåˆ‡æ¿ä¸­çš„å­—ç¬¦åŠ å…¥å±å¹•
åŒæ—¶æ¶ˆè€— 1 ä¸ªæ“ä½œæ•°

dp(n - 2, a_num, a_num)        # C-A C-C
è§£é‡Šï¼šå…¨é€‰å’Œå¤åˆ¶å¿…ç„¶æ˜¯è”åˆä½¿ç”¨çš„ï¼Œ
å‰ªåˆ‡æ¿ä¸­ A çš„æ•°é‡å˜ä¸ºå±å¹•ä¸Š A çš„æ•°é‡
åŒæ—¶æ¶ˆè€— 2 ä¸ªæ“ä½œæ•°
```

è¿™æ ·å¯ä»¥çœ‹åˆ°é—®é¢˜çš„è§„æ¨¡ `n` åœ¨ä¸æ–­å‡å°ï¼Œè‚¯å®šå¯ä»¥åˆ°è¾¾ `n = 0` çš„ base caseï¼Œæ‰€ä»¥è¿™ä¸ªæ€è·¯æ˜¯æ­£ç¡®çš„ï¼š

```python
def maxA(N: int) -> int:

    # å¯¹äº (n, a_num, copy) è¿™ä¸ªçŠ¶æ€ï¼Œ
    # å±å¹•ä¸Šèƒ½æœ€ç»ˆæœ€å¤šèƒ½æœ‰ dp(n, a_num, copy) ä¸ª A
    def dp(n, a_num, copy):
        # base case
        if n <= 0: return a_num;
        # å‡ ç§é€‰æ‹©å…¨è¯•ä¸€éï¼Œé€‰æ‹©æœ€å¤§çš„ç»“æœ
        return max(
                dp(n - 1, a_num + 1, copy),    # A
                dp(n - 1, a_num + copy, copy), # C-V
                dp(n - 2, a_num, a_num)        # C-A C-C
            )

    # å¯ä»¥æŒ‰ N æ¬¡æŒ‰é”®ï¼Œå±å¹•å’Œå‰ªåˆ‡æ¿é‡Œéƒ½è¿˜æ²¡æœ‰ A
    return dp(N, 0, 0)
```

è¿™ä¸ªè§£æ³•åº”è¯¥å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºè¯­ä¹‰æ˜ç¡®ã€‚ä¸‹é¢å°±ç»§ç»­èµ°æµç¨‹ï¼Œç”¨å¤‡å¿˜å½•æ¶ˆé™¤ä¸€ä¸‹é‡å å­é—®é¢˜ï¼š

```python
def maxA(N: int) -> int:
    # å¤‡å¿˜å½•
    memo = dict()
    def dp(n, a_num, copy):
        if n <= 0: return a_num;
        # é¿å…è®¡ç®—é‡å å­é—®é¢˜
        if (n, a_num, copy) in memo:
            return memo[(n, a_num, copy)]

        memo[(n, a_num, copy)] = max(
                # å‡ ç§é€‰æ‹©è¿˜æ˜¯ä¸€æ ·çš„
            )
        return memo[(n, a_num, copy)]

    return dp(N, 0, 0)
```

è¿™æ ·ä¼˜åŒ–ä»£ç ä¹‹åï¼Œå­é—®é¢˜è™½ç„¶æ²¡æœ‰é‡å¤äº†ï¼Œä½†æ•°ç›®ä»ç„¶å¾ˆå¤šï¼Œåœ¨ LeetCode æäº¤ä¼šè¶…æ—¶çš„ã€‚

æˆ‘ä»¬å°è¯•åˆ†æä¸€ä¸‹è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå°±ä¼šå‘ç°ä¸å®¹æ˜“åˆ†æã€‚æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ª dp å‡½æ•°å†™æˆ dp æ•°ç»„ï¼š

```python
dp[n][a_num][copy]
# çŠ¶æ€çš„æ€»æ•°ï¼ˆæ—¶ç©ºå¤æ‚åº¦ï¼‰å°±æ˜¯è¿™ä¸ªä¸‰ç»´æ•°ç»„çš„ä½“ç§¯
```

æˆ‘ä»¬çŸ¥é“å˜é‡ `n` æœ€å¤šä¸º `N`ï¼Œä½†æ˜¯ `a_num` å’Œ `copy` æœ€å¤šä¸ºå¤šå°‘æˆ‘ä»¬å¾ˆéš¾è®¡ç®—ï¼Œå¤æ‚åº¦èµ·ç ä¹Ÿæœ‰ O(N^3) å§ã€‚æ‰€ä»¥è¿™ä¸ªç®—æ³•å¹¶ä¸å¥½ï¼Œå¤æ‚åº¦å¤ªé«˜ï¼Œä¸”å·²ç»æ— æ³•ä¼˜åŒ–äº†ã€‚

è¿™ä¹Ÿå°±è¯´æ˜ï¼Œæˆ‘ä»¬è¿™æ ·å®šä¹‰ã€ŒçŠ¶æ€ã€æ˜¯ä¸å¤ªä¼˜ç§€çš„ï¼Œä¸‹é¢æˆ‘ä»¬æ¢ä¸€ç§å®šä¹‰ dp çš„æ€è·¯ã€‚

### ç¬¬äºŒç§æ€è·¯

è¿™ç§æ€è·¯ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼Œä½†æ˜¯æ•ˆç‡é«˜ã€‚ç»§ç»­èµ°æµç¨‹ï¼Œã€Œé€‰æ‹©ã€è¿˜æ˜¯é‚£ 4 ä¸ªï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä»¬åªå®šä¹‰ä¸€ä¸ªã€ŒçŠ¶æ€ã€ï¼Œä¹Ÿå°±æ˜¯å‰©ä½™çš„æ•²å‡»æ¬¡æ•° `n`ã€‚

è¿™ä¸ªç®—æ³•åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œ**æœ€ä¼˜æŒ‰é”®åºåˆ—ä¸€å®šåªæœ‰ä¸¤ç§æƒ…å†µ**ï¼š

è¦ä¹ˆä¸€ç›´æŒ‰ `A`ï¼šA,A,...Aï¼ˆå½“ N æ¯”è¾ƒå°æ—¶ï¼‰ã€‚

è¦ä¹ˆæ˜¯è¿™ä¹ˆä¸€ä¸ªå½¢å¼ï¼šA,A,...C-A,C-C,C-V,C-V,...C-Vï¼ˆå½“ N æ¯”è¾ƒå¤§æ—¶ï¼‰ã€‚

å› ä¸ºå­—ç¬¦æ•°é‡å°‘ï¼ˆN æ¯”è¾ƒå°ï¼‰æ—¶ï¼Œ`C-A C-C C-V` è¿™ä¸€å¥—æ“ä½œçš„ä»£ä»·ç›¸å¯¹æ¯”è¾ƒé«˜ï¼Œå¯èƒ½ä¸å¦‚ä¸€ä¸ªä¸ªæŒ‰ `A`ï¼›è€Œå½“ N æ¯”è¾ƒå¤§æ—¶ï¼ŒåæœŸ `C-V` çš„æ”¶è·è‚¯å®šå¾ˆå¤§ã€‚è¿™ç§æƒ…å†µä¸‹æ•´ä¸ªæ“ä½œåºåˆ—å¤§è‡´æ˜¯ï¼š**å¼€å¤´è¿æŒ‰å‡ ä¸ª `A`ï¼Œç„¶å `C-A C-C` ç»„åˆå†æ¥è‹¥å¹² `C-V`ï¼Œç„¶åå† `C-A C-C` æ¥ç€è‹¥å¹² `C-V`ï¼Œå¾ªç¯ä¸‹å»**ã€‚

æ¢å¥è¯è¯´ï¼Œæœ€åä¸€æ¬¡æŒ‰é”®è¦ä¹ˆæ˜¯ `A` è¦ä¹ˆæ˜¯ `C-V`ã€‚æ˜ç¡®äº†è¿™ä¸€ç‚¹ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸¤ç§æƒ…å†µæ¥è®¾è®¡ç®—æ³•ï¼š

```java
int[] dp = new int[N + 1];
// å®šä¹‰ï¼šdp[i] è¡¨ç¤º i æ¬¡æ“ä½œåæœ€å¤šèƒ½æ˜¾ç¤ºå¤šå°‘ä¸ª A
for (int i = 0; i <= N; i++) 
    dp[i] = max(
            è¿™æ¬¡æŒ‰ A é”®ï¼Œ
            è¿™æ¬¡æŒ‰ C-V
        )
```

å¯¹äºã€ŒæŒ‰ `A` é”®ã€è¿™ç§æƒ…å†µï¼Œå°±æ˜¯çŠ¶æ€ `i - 1` çš„å±å¹•ä¸Šæ–°å¢äº†ä¸€ä¸ª A è€Œå·²ï¼Œå¾ˆå®¹æ˜“å¾—åˆ°ç»“æœï¼š

```java
// æŒ‰ A é”®ï¼Œå°±æ¯”ä¸Šæ¬¡å¤šä¸€ä¸ª A è€Œå·²
dp[i] = dp[i - 1] + 1;
```
ä½†æ˜¯ï¼Œå¦‚æœè¦æŒ‰ `C-V`ï¼Œè¿˜è¦è€ƒè™‘ä¹‹å‰æ˜¯åœ¨å“ªé‡Œ `C-A C-C` çš„ã€‚

**åˆšæ‰è¯´äº†ï¼Œæœ€ä¼˜çš„æ“ä½œåºåˆ—ä¸€å®šæ˜¯ `C-A C-C` æ¥ç€è‹¥å¹² `C-V`ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ªå˜é‡ `j` ä½œä¸ºè‹¥å¹² `C-V` çš„èµ·ç‚¹**ã€‚é‚£ä¹ˆ `j` ä¹‹å‰çš„ 2 ä¸ªæ“ä½œå°±åº”è¯¥æ˜¯ `C-A C-C` äº†ï¼š

```java
public int maxA(int N) {
    int[] dp = new int[N + 1];
    dp[0] = 0;
    for (int i = 1; i <= N; i++) {
        // æŒ‰ A é”®
        dp[i] = dp[i - 1] + 1;
        for (int j = 2; j < i; j++) {
            // å…¨é€‰ & å¤åˆ¶ dp[j-2]ï¼Œè¿ç»­ç²˜è´´ i - j æ¬¡
            // å±å¹•ä¸Šå…± dp[j - 2] * (i - j + 1) ä¸ª A
            dp[i] = Math.max(dp[i], dp[j - 2] * (i - j + 1));
        }
    }
    // N æ¬¡æŒ‰é”®ä¹‹åæœ€å¤šæœ‰å‡ ä¸ª Aï¼Ÿ
    return dp[N];
}
```

å…¶ä¸­ `j` å˜é‡å‡ 2 æ˜¯ç»™ `C-A C-C` ç•™ä¸‹æ“ä½œæ•°ï¼Œçœ‹ä¸ªå›¾å°±æ˜ç™½äº†ï¼š

![](https://labuladong.github.io/algo/images/4keyboard/1.jpg)

è¿™æ ·ï¼Œæ­¤ç®—æ³•å°±å®Œæˆäº†ï¼Œæ—¶é—´å¤æ‚åº¦ O(N^2)ï¼Œç©ºé—´å¤æ‚åº¦ O(N)ï¼Œè¿™ç§è§£æ³•åº”è¯¥æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„äº†ã€‚

### æœ€åæ€»ç»“

åŠ¨æ€è§„åˆ’éš¾å°±éš¾åœ¨å¯»æ‰¾çŠ¶æ€è½¬ç§»ï¼Œä¸åŒçš„å®šä¹‰å¯ä»¥äº§ç”Ÿä¸åŒçš„çŠ¶æ€è½¬ç§»é€»è¾‘ï¼Œè™½ç„¶æœ€åéƒ½èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯æ•ˆç‡å¯èƒ½æœ‰å·¨å¤§çš„å·®å¼‚ã€‚

å›é¡¾ç¬¬ä¸€ç§è§£æ³•ï¼Œé‡å å­é—®é¢˜å·²ç»æ¶ˆé™¤äº†ï¼Œä½†æ˜¯æ•ˆç‡è¿˜æ˜¯ä½ï¼Œåˆ°åº•ä½åœ¨å“ªé‡Œå‘¢ï¼ŸæŠ½è±¡å‡ºé€’å½’æ¡†æ¶ï¼š

```python
def dp(n, a_num, copy):
    dp(n - 1, a_num + 1, copy),    # A
    dp(n - 1, a_num + copy, copy), # C-V
    dp(n - 2, a_num, a_num)        # C-A C-C
```

çœ‹è¿™ä¸ªç©·ä¸¾é€»è¾‘ï¼Œæ˜¯æœ‰å¯èƒ½å‡ºç°è¿™æ ·çš„æ“ä½œåºåˆ— `C-A C-Cï¼ŒC-A C-C...` æˆ–è€… `C-V,C-V,...`ã€‚ç„¶è¿™ç§æ“ä½œåºåˆ—çš„ç»“æœä¸æ˜¯æœ€ä¼˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰æƒ³åŠæ³•è§„é¿è¿™äº›æƒ…å†µçš„å‘ç”Ÿï¼Œä»è€Œå¢åŠ äº†å¾ˆå¤šæ²¡å¿…è¦çš„å­é—®é¢˜è®¡ç®—ã€‚

å›é¡¾ç¬¬äºŒç§è§£æ³•ï¼Œæˆ‘ä»¬ç¨åŠ æ€è€ƒå°±èƒ½æƒ³åˆ°ï¼Œæœ€ä¼˜çš„åºåˆ—åº”è¯¥æ˜¯è¿™ç§å½¢å¼ï¼š`A,A..C-A,C-C,C-V,C-V..C-A,C-C,C-V..`ã€‚

æ ¹æ®è¿™ä¸ªäº‹å®ï¼Œæˆ‘ä»¬é‡æ–°å®šä¹‰äº†çŠ¶æ€ï¼Œé‡æ–°å¯»æ‰¾äº†çŠ¶æ€è½¬ç§»ï¼Œä»é€»è¾‘ä¸Šå‡å°‘äº†æ— æ•ˆçš„å­é—®é¢˜ä¸ªæ•°ï¼Œä»è€Œæé«˜äº†ç®—æ³•çš„æ•ˆç‡ã€‚



<hr>
<details>
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„æ–‡ç« </strong></summary>

 - [ä¸€ä¸ªæ–¹æ³•å›¢ç­ LeetCode æ‰“å®¶åŠ«èˆé—®é¢˜](https://labuladong.github.io/article/fname.html?fname=æŠ¢æˆ¿å­)
 - [æœ€ä¼˜å­ç»“æ„åŸç†å’Œ dp æ•°ç»„éå†æ–¹å‘](https://labuladong.github.io/article/fname.html?fname=æœ€ä¼˜å­ç»“æ„)

</details><hr>





**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•å°æŠ„ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤å…³é”®è¯ã€Œ**è¿›ç¾¤**ã€å¯åŠ å…¥ç®—æ³•ç¾¤ï¼›å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.github.io/algo/images/souyisou2.png)


======å…¶ä»–è¯­è¨€ä»£ç ======

### javascript

[651.å››é”®é”®ç›˜](https://leetcode-cn.com/problems/4-keys-keyboard)

**1ã€ç¬¬ä¸€ç§æ€è·¯**

```js
let maxA = function (N) {
    // å¤‡å¿˜å½•
    let memo = {}

    let dp = function (n, a_num, copy) {
        if (n <= 0) {
            return a_num;
        }

        let key = n + ',' + a_num + ',' + copy
        // é¿å…è®¡ç®—é‡å å­é—®é¢˜
        if (memo[key] !== undefined) {
            return memo[key]
        }

        memo[key] = Math.max(
            dp(n - 1, a_num + 1, copy),    // A
            dp(n - 1, a_num + copy, copy), // C-V
            dp(n - 2, a_num, a_num)        // C-A C-C
        )

        return memo[key]
    }

    return dp(N, 0, 0)
}
```

**2ã€ç¬¬äºŒç§æ€è·¯**

```js
var maxA = function (N) {
    let dp = new Array(N + 1);
    dp[0] = 0;
    for (let i = 1; i <= N; i++) {
        // æŒ‰Aé”®ç›˜
        dp[i] = dp[i - 1] + 1;
        for (let j = 2; j < i; j++) {
            // å…¨é€‰ & å¤åˆ¶ dp[j-2]ï¼Œè¿ç»­ç²˜è´´ i - j æ¬¡
            // å±å¹•ä¸Šå…± dp[j - 2] * (i - j + 1) ä¸ª A
            dp[i] = Math.max(dp[i], dp[j - 2] * (i - (j - 2) - 1));
        }
    }
    // N æ¬¡æŒ‰é”®ä¹‹åæœ€å¤šæœ‰å‡ ä¸ª Aï¼Ÿ
    return dp[N];
}
```

