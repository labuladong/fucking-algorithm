# åŠ¨æ€è§„åˆ’è®¾è®¡ï¼šæœ€é•¿é€’å¢å­åºåˆ—

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://appktavsiei5995.pc.xiaoe-tech.com/index" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.github.io/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ï¼›[ç¬¬ 12 æœŸåˆ·é¢˜æ‰“å¡](https://mp.weixin.qq.com/s/eUG2OOzY3k_ZTz-CFvtv5Q) æœ€åä¸€å¤©æŠ¥åï¼›ç‚¹å‡»è¿™é‡Œä½“éªŒ [åˆ·é¢˜å…¨å®¶æ¡¶](https://labuladong.gitee.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg)ã€‚å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.gitee.io/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [300. Longest Increasing Subsequence](https://leetcode.com/problems/longest-increasing-subsequence/) | [300. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence/) | ğŸŸ 
| [354. Russian Doll Envelopes](https://leetcode.com/problems/russian-doll-envelopes/) | [354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜](https://leetcode.cn/problems/russian-doll-envelopes/) | ğŸ”´

**-----------**

ä¹Ÿè®¸æœ‰è¯»è€…çœ‹äº†å‰æ–‡ [åŠ¨æ€è§„åˆ’è¯¦è§£](https://labuladong.github.io/article/fname.html?fname=åŠ¨æ€è§„åˆ’è¯¦è§£è¿›é˜¶)ï¼Œå­¦ä¼šäº†åŠ¨æ€è§„åˆ’çš„å¥—è·¯ï¼šæ‰¾åˆ°äº†é—®é¢˜çš„ã€ŒçŠ¶æ€ã€ï¼Œæ˜ç¡®äº† `dp` æ•°ç»„/å‡½æ•°çš„å«ä¹‰ï¼Œå®šä¹‰äº† base caseï¼›ä½†æ˜¯ä¸çŸ¥é“å¦‚ä½•ç¡®å®šã€Œé€‰æ‹©ã€ï¼Œä¹Ÿå°±æ˜¯æ‰¾ä¸åˆ°çŠ¶æ€è½¬ç§»çš„å…³ç³»ï¼Œä¾ç„¶å†™ä¸å‡ºåŠ¨æ€è§„åˆ’è§£æ³•ï¼Œæ€ä¹ˆåŠï¼Ÿ

ä¸è¦æ‹…å¿ƒï¼ŒåŠ¨æ€è§„åˆ’çš„éš¾ç‚¹æœ¬æ¥å°±åœ¨äºå¯»æ‰¾æ­£ç¡®çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œæœ¬æ–‡å°±å€ŸåŠ©ç»å…¸çš„ã€Œæœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜ã€æ¥è®²ä¸€è®²è®¾è®¡åŠ¨æ€è§„åˆ’çš„é€šç”¨æŠ€å·§ï¼š**æ•°å­¦å½’çº³æ€æƒ³**ã€‚

æœ€é•¿é€’å¢å­åºåˆ—ï¼ˆLongest Increasing Subsequenceï¼Œç®€å†™ LISï¼‰æ˜¯éå¸¸ç»å…¸çš„ä¸€ä¸ªç®—æ³•é—®é¢˜ï¼Œæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„æ˜¯åŠ¨æ€è§„åˆ’è§£æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ O(N^2)ï¼Œæˆ‘ä»¬å€Ÿè¿™ä¸ªé—®é¢˜æ¥ç”±æµ…å…¥æ·±è®²è§£å¦‚ä½•æ‰¾çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œå¦‚ä½•å†™å‡ºåŠ¨æ€è§„åˆ’è§£æ³•ã€‚æ¯”è¾ƒéš¾æƒ³åˆ°çš„æ˜¯åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(NlogN)ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ç§ç®€å•çš„çº¸ç‰Œæ¸¸æˆæ¥è¾…åŠ©ç†è§£è¿™ç§å·§å¦™çš„è§£æ³•ã€‚

åŠ›æ‰£ç¬¬ 300 é¢˜ã€Œæœ€é•¿é€’å¢å­åºåˆ—ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼š

è¾“å…¥ä¸€ä¸ªæ— åºçš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ æ‰¾åˆ°å…¶ä¸­æœ€é•¿çš„ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```java
int lengthOfLIS(int[] nums);
```

æ¯”å¦‚è¯´è¾“å…¥ `nums=[10,9,2,5,3,7,101,18]`ï¼Œå…¶ä¸­æœ€é•¿çš„é€’å¢å­åºåˆ—æ˜¯Â `[2,3,7,101]`ï¼Œæ‰€ä»¥ç®—æ³•çš„è¾“å‡ºåº”è¯¥æ˜¯ 4ã€‚

æ³¨æ„ã€Œå­åºåˆ—ã€å’Œã€Œå­ä¸²ã€è¿™ä¸¤ä¸ªåè¯çš„åŒºåˆ«ï¼Œå­ä¸²ä¸€å®šæ˜¯è¿ç»­çš„ï¼Œè€Œå­åºåˆ—ä¸ä¸€å®šæ˜¯è¿ç»­çš„ã€‚ä¸‹é¢å…ˆæ¥è®¾è®¡åŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### ä¸€ã€åŠ¨æ€è§„åˆ’è§£æ³•

åŠ¨æ€è§„åˆ’çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯æ•°å­¦å½’çº³æ³•ã€‚

ç›¸ä¿¡å¤§å®¶å¯¹æ•°å­¦å½’çº³æ³•éƒ½ä¸é™Œç”Ÿï¼Œé«˜ä¸­å°±å­¦è¿‡ï¼Œè€Œä¸”æ€è·¯å¾ˆç®€å•ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³è¯æ˜ä¸€ä¸ªæ•°å­¦ç»“è®ºï¼Œé‚£ä¹ˆ**æˆ‘ä»¬å…ˆå‡è®¾è¿™ä¸ªç»“è®ºåœ¨ `k < n` æ—¶æˆç«‹ï¼Œç„¶åæ ¹æ®è¿™ä¸ªå‡è®¾ï¼Œæƒ³åŠæ³•æ¨å¯¼è¯æ˜å‡º `k = n` çš„æ—¶å€™æ­¤ç»“è®ºä¹Ÿæˆç«‹**ã€‚å¦‚æœèƒ½å¤Ÿè¯æ˜å‡ºæ¥ï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ä¸ªç»“è®ºå¯¹äº `k` ç­‰äºä»»ä½•æ•°éƒ½æˆç«‹ã€‚

ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬è®¾è®¡åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œä¸æ˜¯éœ€è¦ä¸€ä¸ª dp æ•°ç»„å—ï¼Ÿæˆ‘ä»¬å¯ä»¥å‡è®¾ `dp[0...i-1]` éƒ½å·²ç»è¢«ç®—å‡ºæ¥äº†ï¼Œç„¶åé—®è‡ªå·±ï¼šæ€ä¹ˆé€šè¿‡è¿™äº›ç»“æœç®—å‡º `dp[i]`ï¼Ÿ

ç›´æ¥æ‹¿æœ€é•¿é€’å¢å­åºåˆ—è¿™ä¸ªé—®é¢˜ä¸¾ä¾‹ä½ å°±æ˜ç™½äº†ã€‚ä¸è¿‡ï¼Œé¦–å…ˆè¦å®šä¹‰æ¸…æ¥š dp æ•°ç»„çš„å«ä¹‰ï¼Œå³ `dp[i]` çš„å€¼åˆ°åº•ä»£è¡¨ç€ä»€ä¹ˆï¼Ÿ

**æˆ‘ä»¬çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š`dp[i]` è¡¨ç¤ºä»¥ `nums[i]` è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦**ã€‚

> PSï¼šä¸ºä»€ä¹ˆè¿™æ ·å®šä¹‰å‘¢ï¼Ÿè¿™æ˜¯è§£å†³å­åºåˆ—é—®é¢˜çš„ä¸€ä¸ªå¥—è·¯ï¼Œåæ–‡ [åŠ¨æ€è§„åˆ’ä¹‹å­åºåˆ—é—®é¢˜è§£é¢˜æ¨¡æ¿](https://labuladong.github.io/article/fname.html?fname=å­åºåˆ—é—®é¢˜æ¨¡æ¿) æ€»ç»“äº†å‡ ç§å¸¸è§å¥—è·¯ã€‚ä½ è¯»å®Œæœ¬ç« æ‰€æœ‰çš„åŠ¨æ€è§„åˆ’é—®é¢˜ï¼Œå°±ä¼šå‘ç° `dp` æ•°ç»„çš„å®šä¹‰æ–¹æ³•ä¹Ÿå°±é‚£å‡ ç§ã€‚

æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ¨å‡º base caseï¼š`dp[i]` åˆå§‹å€¼ä¸º 1ï¼Œå› ä¸ºä»¥ `nums[i]` ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—èµ·ç è¦åŒ…å«å®ƒè‡ªå·±ã€‚

ä¸¾ä¸¤ä¸ªä¾‹å­ï¼š

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/8.jpeg)

è¿™ä¸ª GIF å±•ç¤ºäº†ç®—æ³•æ¼”è¿›çš„è¿‡ç¨‹ï¼š

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/gif1.gif)

æ ¹æ®è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘ä»¬çš„æœ€ç»ˆç»“æœï¼ˆå­åºåˆ—çš„æœ€å¤§é•¿åº¦ï¼‰åº”è¯¥æ˜¯ dp æ•°ç»„ä¸­çš„æœ€å¤§å€¼ã€‚

```java
int res = 0;
for (int i = 0; i < dp.length; i++) {
    res = Math.max(res, dp[i]);
}
return res;
```

è¯»è€…ä¹Ÿè®¸ä¼šé—®ï¼Œåˆšæ‰çš„ç®—æ³•æ¼”è¿›è¿‡ç¨‹ä¸­æ¯ä¸ª `dp[i]` çš„ç»“æœæ˜¯æˆ‘ä»¬è‚‰çœ¼çœ‹å‡ºæ¥çš„ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆè®¾è®¡ç®—æ³•é€»è¾‘æ¥æ­£ç¡®è®¡ç®—æ¯ä¸ª `dp[i]` å‘¢ï¼Ÿ

è¿™å°±æ˜¯åŠ¨æ€è§„åˆ’çš„é‡å¤´æˆï¼Œå¦‚ä½•è®¾è®¡ç®—æ³•é€»è¾‘è¿›è¡ŒçŠ¶æ€è½¬ç§»ï¼Œæ‰èƒ½æ­£ç¡®è¿è¡Œå‘¢ï¼Ÿè¿™é‡Œéœ€è¦ä½¿ç”¨æ•°å­¦å½’çº³çš„æ€æƒ³ï¼š

**å‡è®¾æˆ‘ä»¬å·²ç»çŸ¥é“äº† `dp[0..4]` çš„æ‰€æœ‰ç»“æœï¼Œæˆ‘ä»¬å¦‚ä½•é€šè¿‡è¿™äº›å·²çŸ¥ç»“æœæ¨å‡º `dp[5]` å‘¢**ï¼Ÿ

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/6.jpeg)

æ ¹æ®åˆšæ‰æˆ‘ä»¬å¯¹ `dp` æ•°ç»„çš„å®šä¹‰ï¼Œç°åœ¨æƒ³æ±‚ `dp[5]` çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æƒ³æ±‚ä»¥ `nums[5]` ä¸ºç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—ã€‚

**`nums[5] = 3`ï¼Œæ—¢ç„¶æ˜¯é€’å¢å­åºåˆ—ï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°å‰é¢é‚£äº›ç»“å°¾æ¯” 3 å°çš„å­åºåˆ—ï¼Œç„¶åæŠŠ 3 æ¥åˆ°è¿™äº›å­åºåˆ—æœ«å°¾ï¼Œå°±å¯ä»¥å½¢æˆä¸€ä¸ªæ–°çš„é€’å¢å­åºåˆ—ï¼Œè€Œä¸”è¿™ä¸ªæ–°çš„å­åºåˆ—é•¿åº¦åŠ ä¸€**ã€‚

`nums[5]` å‰é¢æœ‰å“ªäº›å…ƒç´ å°äº `nums[5]`ï¼Ÿè¿™ä¸ªå¥½ç®—ï¼Œç”¨ for å¾ªç¯æ¯”è¾ƒä¸€æ³¢å°±èƒ½æŠŠè¿™äº›å…ƒç´ æ‰¾å‡ºæ¥ã€‚

ä»¥è¿™äº›å…ƒç´ ä¸ºç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿå›é¡¾ä¸€ä¸‹æˆ‘ä»¬å¯¹ `dp` æ•°ç»„çš„å®šä¹‰ï¼Œå®ƒè®°å½•çš„æ­£æ˜¯ä»¥æ¯ä¸ªå…ƒç´ ä¸ºæœ«å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚

ä»¥æˆ‘ä»¬ä¸¾çš„ä¾‹å­æ¥è¯´ï¼Œ`nums[0]` å’Œ `nums[4]` éƒ½æ˜¯å°äº `nums[5]` çš„ï¼Œç„¶åå¯¹æ¯” `dp[0]` å’Œ `dp[4]` çš„å€¼ï¼Œæˆ‘ä»¬è®© `nums[5]` å’Œæ›´é•¿çš„é€’å¢å­åºåˆ—ç»“åˆï¼Œå¾—å‡º `dp[5] = 3`ï¼š

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/7.jpeg)

```java
for (int j = 0; j < i; j++) {
    if (nums[i] > nums[j]) {
        dp[i] = Math.max(dp[i], dp[j] + 1);
    }
}
```

å½“ `i = 5` æ—¶ï¼Œè¿™æ®µä»£ç çš„é€»è¾‘å°±å¯ä»¥ç®—å‡º `dp[5]`ã€‚å…¶å®åˆ°è¿™é‡Œï¼Œè¿™é“ç®—æ³•é¢˜æˆ‘ä»¬å°±åŸºæœ¬åšå®Œäº†ã€‚

è¯»è€…ä¹Ÿè®¸ä¼šé—®ï¼Œæˆ‘ä»¬åˆšæ‰åªæ˜¯ç®—äº† `dp[5]` å‘€ï¼Œ`dp[4]`, `dp[3]` è¿™äº›æ€ä¹ˆç®—å‘¢ï¼Ÿç±»ä¼¼æ•°å­¦å½’çº³æ³•ï¼Œä½ å·²ç»å¯ä»¥ç®—å‡º `dp[5]` äº†ï¼Œå…¶ä»–çš„å°±éƒ½å¯ä»¥ç®—å‡ºæ¥ï¼š

```java
for (int i = 0; i < nums.length; i++) {
    for (int j = 0; j < i; j++) {
        // å¯»æ‰¾ nums[0..j-1] ä¸­æ¯” nums[i] å°çš„å…ƒç´ 
        if (nums[i] > nums[j]) {
            // æŠŠ nums[i] æ¥åœ¨åé¢ï¼Œå³å¯å½¢æˆé•¿åº¦ä¸º dp[j] + 1ï¼Œ
            // ä¸”ä»¥ nums[i] ä¸ºç»“å°¾çš„é€’å¢å­åºåˆ—
            dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
}
```

ç»“åˆæˆ‘ä»¬åˆšæ‰è¯´çš„ base caseï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å®Œæ•´ä»£ç ï¼š

```java
int lengthOfLIS(int[] nums) {
    // å®šä¹‰ï¼šdp[i] è¡¨ç¤ºä»¥ nums[i] è¿™ä¸ªæ•°ç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦
    int[] dp = new int[nums.length];
    // base caseï¼šdp æ•°ç»„å…¨éƒ½åˆå§‹åŒ–ä¸º 1
    Arrays.fill(dp, 1);
    for (int i = 0; i < nums.length; i++) {
        for (int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) 
                dp[i] = Math.max(dp[i], dp[j] + 1);
        }
    }
    
    int res = 0;
    for (int i = 0; i < dp.length; i++) {
        res = Math.max(res, dp[i]);
    }
    return res;
}
```

è‡³æ­¤ï¼Œè¿™é“é¢˜å°±è§£å†³äº†ï¼Œæ—¶é—´å¤æ‚åº¦ `O(N^2)`ã€‚æ€»ç»“ä¸€ä¸‹å¦‚ä½•æ‰¾åˆ°åŠ¨æ€è§„åˆ’çš„çŠ¶æ€è½¬ç§»å…³ç³»ï¼š

1ã€æ˜ç¡® `dp` æ•°ç»„çš„å®šä¹‰ã€‚è¿™ä¸€æ­¥å¯¹äºä»»ä½•åŠ¨æ€è§„åˆ’é—®é¢˜éƒ½å¾ˆé‡è¦ï¼Œå¦‚æœä¸å¾—å½“æˆ–è€…ä¸å¤Ÿæ¸…æ™°ï¼Œä¼šé˜»ç¢ä¹‹åçš„æ­¥éª¤ã€‚

2ã€æ ¹æ® `dp` æ•°ç»„çš„å®šä¹‰ï¼Œè¿ç”¨æ•°å­¦å½’çº³æ³•çš„æ€æƒ³ï¼Œå‡è®¾ `dp[0...i-1]` éƒ½å·²çŸ¥ï¼Œæƒ³åŠæ³•æ±‚å‡º `dp[i]`ï¼Œä¸€æ—¦è¿™ä¸€æ­¥å®Œæˆï¼Œæ•´ä¸ªé¢˜ç›®åŸºæœ¬å°±è§£å†³äº†ã€‚

ä½†å¦‚æœæ— æ³•å®Œæˆè¿™ä¸€æ­¥ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ `dp` æ•°ç»„çš„å®šä¹‰ä¸å¤Ÿæ°å½“ï¼Œéœ€è¦é‡æ–°å®šä¹‰ `dp` æ•°ç»„çš„å«ä¹‰ï¼›æˆ–è€…å¯èƒ½æ˜¯ `dp` æ•°ç»„å­˜å‚¨çš„ä¿¡æ¯è¿˜ä¸å¤Ÿï¼Œä¸è¶³ä»¥æ¨å‡ºä¸‹ä¸€æ­¥çš„ç­”æ¡ˆï¼Œéœ€è¦æŠŠ `dp` æ•°ç»„æ‰©å¤§æˆäºŒç»´æ•°ç»„ç”šè‡³ä¸‰ç»´æ•°ç»„ã€‚

ç›®å‰çš„è§£æ³•æ˜¯æ ‡å‡†çš„åŠ¨æ€è§„åˆ’ï¼Œä½†å¯¹æœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜æ¥è¯´ï¼Œè¿™ä¸ªè§£æ³•ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå¯èƒ½æ— æ³•é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹äº†ï¼Œä¸‹é¢è®²è®²æ›´é«˜æ•ˆçš„è§£æ³•ã€‚

### äºŒã€äºŒåˆ†æŸ¥æ‰¾è§£æ³•

è¿™ä¸ªè§£æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(NlogN)`ï¼Œä½†æ˜¯è¯´å®è¯ï¼Œæ­£å¸¸äººåŸºæœ¬æƒ³ä¸åˆ°è¿™ç§è§£æ³•ï¼ˆä¹Ÿè®¸ç©è¿‡æŸäº›çº¸ç‰Œæ¸¸æˆçš„äººå¯ä»¥æƒ³å‡ºæ¥ï¼‰ã€‚æ‰€ä»¥å¤§å®¶äº†è§£ä¸€ä¸‹å°±å¥½ï¼Œæ­£å¸¸æƒ…å†µä¸‹èƒ½å¤Ÿç»™å‡ºåŠ¨æ€è§„åˆ’è§£æ³•å°±å·²ç»å¾ˆä¸é”™äº†ã€‚

æ ¹æ®é¢˜ç›®çš„æ„æ€ï¼Œæˆ‘éƒ½å¾ˆéš¾æƒ³è±¡è¿™ä¸ªé—®é¢˜ç«Ÿç„¶èƒ½å’ŒäºŒåˆ†æŸ¥æ‰¾æ‰¯ä¸Šå…³ç³»ã€‚å…¶å®æœ€é•¿é€’å¢å­åºåˆ—å’Œä¸€ç§å«åš patience game çš„çº¸ç‰Œæ¸¸æˆæœ‰å…³ï¼Œç”šè‡³æœ‰ä¸€ç§æ’åºæ–¹æ³•å°±å«åš patience sortingï¼ˆè€å¿ƒæ’åºï¼‰ã€‚

ä¸ºäº†ç®€å•èµ·è§ï¼Œåæ–‡è·³è¿‡æ‰€æœ‰æ•°å­¦è¯æ˜ï¼Œé€šè¿‡ä¸€ä¸ªç®€åŒ–çš„ä¾‹å­æ¥ç†è§£ä¸€ä¸‹ç®—æ³•æ€è·¯ã€‚

é¦–å…ˆï¼Œç»™ä½ ä¸€æ’æ‰‘å…‹ç‰Œï¼Œæˆ‘ä»¬åƒéå†æ•°ç»„é‚£æ ·ä»å·¦åˆ°å³ä¸€å¼ ä¸€å¼ å¤„ç†è¿™äº›æ‰‘å…‹ç‰Œï¼Œæœ€ç»ˆè¦æŠŠè¿™äº›ç‰Œåˆ†æˆè‹¥å¹²å †ã€‚

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/poker1.jpeg)

**å¤„ç†è¿™äº›æ‰‘å…‹ç‰Œè¦éµå¾ªä»¥ä¸‹è§„åˆ™**ï¼š

åªèƒ½æŠŠç‚¹æ•°å°çš„ç‰Œå‹åˆ°ç‚¹æ•°æ¯”å®ƒå¤§çš„ç‰Œä¸Šï¼›å¦‚æœå½“å‰ç‰Œç‚¹æ•°è¾ƒå¤§æ²¡æœ‰å¯ä»¥æ”¾ç½®çš„å †ï¼Œåˆ™æ–°å»ºä¸€ä¸ªå †ï¼ŒæŠŠè¿™å¼ ç‰Œæ”¾è¿›å»ï¼›å¦‚æœå½“å‰ç‰Œæœ‰å¤šä¸ªå †å¯ä¾›é€‰æ‹©ï¼Œåˆ™é€‰æ‹©æœ€å·¦è¾¹çš„é‚£ä¸€å †æ”¾ç½®ã€‚

æ¯”å¦‚è¯´ä¸Šè¿°çš„æ‰‘å…‹ç‰Œæœ€ç»ˆä¼šè¢«åˆ†æˆè¿™æ · 5 å †ï¼ˆæˆ‘ä»¬è®¤ä¸ºçº¸ç‰Œ A çš„ç‰Œé¢æ˜¯æœ€å¤§çš„ï¼Œçº¸ç‰Œ 2 çš„ç‰Œé¢æ˜¯æœ€å°çš„ï¼‰ã€‚

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/poker2.jpeg)

ä¸ºä»€ä¹ˆé‡åˆ°å¤šä¸ªå¯é€‰æ‹©å †çš„æ—¶å€™è¦æ”¾åˆ°æœ€å·¦è¾¹çš„å †ä¸Šå‘¢ï¼Ÿå› ä¸ºè¿™æ ·å¯ä»¥ä¿è¯ç‰Œå †é¡¶çš„ç‰Œæœ‰åºï¼ˆ2, 4, 7, 8, Qï¼‰ï¼Œè¯æ˜ç•¥ã€‚

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/poker3.jpeg)

æŒ‰ç…§ä¸Šè¿°è§„åˆ™æ‰§è¡Œï¼Œå¯ä»¥ç®—å‡ºæœ€é•¿é€’å¢å­åºåˆ—ï¼Œç‰Œçš„å †æ•°å°±æ˜¯æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ï¼Œè¯æ˜ç•¥ã€‚

![](https://labuladong.github.io/algo/images/æœ€é•¿é€’å¢å­åºåˆ—/poker4.jpeg)

æˆ‘ä»¬åªè¦æŠŠå¤„ç†æ‰‘å…‹ç‰Œçš„è¿‡ç¨‹ç¼–ç¨‹å†™å‡ºæ¥å³å¯ã€‚æ¯æ¬¡å¤„ç†ä¸€å¼ æ‰‘å…‹ç‰Œä¸æ˜¯è¦æ‰¾ä¸€ä¸ªåˆé€‚çš„ç‰Œå †é¡¶æ¥æ”¾å—ï¼Œç‰Œå †é¡¶çš„ç‰Œä¸æ˜¯**æœ‰åº**å—ï¼Œè¿™å°±èƒ½ç”¨åˆ°äºŒåˆ†æŸ¥æ‰¾äº†ï¼šç”¨äºŒåˆ†æŸ¥æ‰¾æ¥æœç´¢å½“å‰ç‰Œåº”æ”¾ç½®çš„ä½ç½®ã€‚

> PSï¼šå‰æ–‡ [äºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¯¦è§£](https://labuladong.github.io/article/fname.html?fname=äºŒåˆ†æŸ¥æ‰¾è¯¦è§£) è¯¦ç»†ä»‹ç»äº†äºŒåˆ†æŸ¥æ‰¾çš„ç»†èŠ‚åŠå˜ä½“ï¼Œè¿™é‡Œå°±å®Œç¾åº”ç”¨ä¸Šäº†ï¼Œå¦‚æœæ²¡è¯»è¿‡å¼ºçƒˆå»ºè®®é˜…è¯»ã€‚

```java
int lengthOfLIS(int[] nums) {
    int[] top = new int[nums.length];
    // ç‰Œå †æ•°åˆå§‹åŒ–ä¸º 0
    int piles = 0;
    for (int i = 0; i < nums.length; i++) {
        // è¦å¤„ç†çš„æ‰‘å…‹ç‰Œ
        int poker = nums[i];

        /***** æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ *****/
        int left = 0, right = piles;
        while (left < right) {
            int mid = (left + right) / 2;
            if (top[mid] > poker) {
                right = mid;
            } else if (top[mid] < poker) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        /*********************************/
        
        // æ²¡æ‰¾åˆ°åˆé€‚çš„ç‰Œå †ï¼Œæ–°å»ºä¸€å †
        if (left == piles) piles++;
        // æŠŠè¿™å¼ ç‰Œæ”¾åˆ°ç‰Œå †é¡¶
        top[left] = poker;
    }
    // ç‰Œå †æ•°å°±æ˜¯ LIS é•¿åº¦
    return piles;
}
```

è‡³æ­¤ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„è§£æ³•ä¹Ÿè®²è§£å®Œæ¯•ã€‚

è¿™ä¸ªè§£æ³•ç¡®å®å¾ˆéš¾æƒ³åˆ°ã€‚é¦–å…ˆæ¶‰åŠæ•°å­¦è¯æ˜ï¼Œè°èƒ½æƒ³åˆ°æŒ‰ç…§è¿™äº›è§„åˆ™æ‰§è¡Œï¼Œå°±èƒ½å¾—åˆ°æœ€é•¿é€’å¢å­åºåˆ—å‘¢ï¼Ÿå…¶æ¬¡è¿˜æœ‰äºŒåˆ†æŸ¥æ‰¾çš„è¿ç”¨ï¼Œè¦æ˜¯å¯¹äºŒåˆ†æŸ¥æ‰¾çš„ç»†èŠ‚ä¸æ¸…æ¥šï¼Œç»™äº†æ€è·¯ä¹Ÿå¾ˆéš¾å†™å¯¹ã€‚

æ‰€ä»¥ï¼Œè¿™ä¸ªæ–¹æ³•ä½œä¸ºæ€ç»´æ‹“å±•å¥½äº†ã€‚ä½†åŠ¨æ€è§„åˆ’çš„è®¾è®¡æ–¹æ³•åº”è¯¥å®Œå…¨ç†è§£ï¼šå‡è®¾ä¹‹å‰çš„ç­”æ¡ˆå·²çŸ¥ï¼Œåˆ©ç”¨æ•°å­¦å½’çº³çš„æ€æƒ³æ­£ç¡®è¿›è¡ŒçŠ¶æ€çš„æ¨æ¼”è½¬ç§»ï¼Œæœ€ç»ˆå¾—åˆ°ç­”æ¡ˆã€‚

### ä¸‰ã€æ‹“å±•åˆ°äºŒç»´

æˆ‘ä»¬çœ‹ä¸€ä¸ªç»å¸¸å‡ºç°åœ¨ç”Ÿæ´»ä¸­çš„æœ‰è¶£é—®é¢˜ï¼ŒåŠ›æ‰£ç¬¬ 354 é¢˜ã€Œä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜ã€ï¼Œå…ˆçœ‹ä¸‹é¢˜ç›®ï¼š

![](https://labuladong.github.io/algo/images/ä¿¡å°åµŒå¥—/title.png)

**è¿™é“é¢˜ç›®å…¶å®æ˜¯æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸€ä¸ªå˜ç§ï¼Œå› ä¸ºæ¯æ¬¡åˆæ³•çš„åµŒå¥—æ˜¯å¤§çš„å¥—å°çš„ï¼Œç›¸å½“äºåœ¨äºŒç»´å¹³é¢ä¸­æ‰¾ä¸€ä¸ªæœ€é•¿é€’å¢çš„å­åºåˆ—ï¼Œå…¶é•¿åº¦å°±æ˜¯æœ€å¤šèƒ½åµŒå¥—çš„ä¿¡å°ä¸ªæ•°**ã€‚

å‰é¢è¯´çš„æ ‡å‡† LIS ç®—æ³•åªèƒ½åœ¨ä¸€ç»´æ•°ç»„ä¸­å¯»æ‰¾æœ€é•¿å­åºåˆ—ï¼Œè€Œæˆ‘ä»¬çš„ä¿¡å°æ˜¯ç”± `(w, h)` è¿™æ ·çš„äºŒç»´æ•°å¯¹å½¢å¼è¡¨ç¤ºçš„ï¼Œå¦‚ä½•æŠŠ LIS ç®—æ³•è¿ç”¨è¿‡æ¥å‘¢ï¼Ÿ

![](https://labuladong.github.io/algo/images/ä¿¡å°åµŒå¥—/0.jpg)

è¯»è€…ä¹Ÿè®¸ä¼šæƒ³ï¼Œé€šè¿‡ `w Ã— h` è®¡ç®—é¢ç§¯ï¼Œç„¶åå¯¹é¢ç§¯è¿›è¡Œæ ‡å‡†çš„ LIS ç®—æ³•ã€‚ä½†æ˜¯ç¨åŠ æ€è€ƒå°±ä¼šå‘ç°è¿™æ ·ä¸è¡Œï¼Œæ¯”å¦‚ `1 Ã— 10` å¤§äº `3 Ã— 3`ï¼Œä½†æ˜¯æ˜¾ç„¶è¿™æ ·çš„ä¸¤ä¸ªä¿¡å°æ˜¯æ— æ³•äº’ç›¸åµŒå¥—çš„ã€‚

è¿™é“é¢˜çš„è§£æ³•æ¯”è¾ƒå·§å¦™ï¼š

**å…ˆå¯¹å®½åº¦ `w` è¿›è¡Œå‡åºæ’åºï¼Œå¦‚æœé‡åˆ° `w` ç›¸åŒçš„æƒ…å†µï¼Œåˆ™æŒ‰ç…§é«˜åº¦ `h` é™åºæ’åºï¼›ä¹‹åæŠŠæ‰€æœ‰çš„ `h` ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸Šè®¡ç®— LIS çš„é•¿åº¦å°±æ˜¯ç­”æ¡ˆ**ã€‚

ç”»ä¸ªå›¾ç†è§£ä¸€ä¸‹ï¼Œå…ˆå¯¹è¿™äº›æ•°å¯¹è¿›è¡Œæ’åºï¼š

![](https://labuladong.github.io/algo/images/ä¿¡å°åµŒå¥—/1.jpg)

ç„¶ååœ¨ `h` ä¸Šå¯»æ‰¾æœ€é•¿é€’å¢å­åºåˆ—ï¼Œè¿™ä¸ªå­åºåˆ—å°±æ˜¯æœ€ä¼˜çš„åµŒå¥—æ–¹æ¡ˆï¼š

![](https://labuladong.github.io/algo/images/ä¿¡å°åµŒå¥—/2.jpg)

ä¸ºä»€ä¹ˆå‘¢ï¼Ÿç¨å¾®æ€è€ƒä¸€ä¸‹å°±æ˜ç™½äº†ï¼š

é¦–å…ˆï¼Œå¯¹å®½åº¦ `w` ä»å°åˆ°å¤§æ’åºï¼Œç¡®ä¿äº† `w` è¿™ä¸ªç»´åº¦å¯ä»¥äº’ç›¸åµŒå¥—ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¸“æ³¨é«˜åº¦ `h` è¿™ä¸ªç»´åº¦èƒ½å¤Ÿäº’ç›¸åµŒå¥—å³å¯ã€‚

å…¶æ¬¡ï¼Œä¸¤ä¸ª `w` ç›¸åŒçš„ä¿¡å°ä¸èƒ½ç›¸äº’åŒ…å«ï¼Œæ‰€ä»¥å¯¹äºå®½åº¦ `w` ç›¸åŒçš„ä¿¡å°ï¼Œå¯¹é«˜åº¦ `h` è¿›è¡Œé™åºæ’åºï¼Œä¿è¯ LIS ä¸­ä¸å­˜åœ¨å¤šä¸ª `w` ç›¸åŒçš„ä¿¡å°ï¼ˆå› ä¸ºé¢˜ç›®è¯´äº†é•¿å®½ç›¸åŒä¹Ÿæ— æ³•åµŒå¥—ï¼‰ã€‚

ä¸‹é¢çœ‹è§£æ³•ä»£ç ï¼š

```java
// envelopes = [[w, h], [w, h]...]
public int maxEnvelopes(int[][] envelopes) {
    int n = envelopes.length;
    // æŒ‰å®½åº¦å‡åºæ’åˆ—ï¼Œå¦‚æœå®½åº¦ä¸€æ ·ï¼Œåˆ™æŒ‰é«˜åº¦é™åºæ’åˆ—
    Arrays.sort(envelopes, new Comparator<int[]>() 
    {
        public int compare(int[] a, int[] b) {
            return a[0] == b[0] ? 
                b[1] - a[1] : a[0] - b[0];
        }
    });
    // å¯¹é«˜åº¦æ•°ç»„å¯»æ‰¾ LIS
    int[] height = new int[n];
    for (int i = 0; i < n; i++)
        height[i] = envelopes[i][1];

    return lengthOfLIS(height);
}

int lengthOfLIS(int[] nums) {
    // è§å‰æ–‡
}
```

ä¸ºäº†æ¸…æ™°ï¼Œæˆ‘å°†ä»£ç åˆ†ä¸ºäº†ä¸¤ä¸ªå‡½æ•°ï¼Œ ä½ ä¹Ÿå¯ä»¥åˆå¹¶ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä¸‹ `height` æ•°ç»„çš„ç©ºé—´ã€‚

ç”±äºå¢åŠ äº†æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨äºŒåˆ†æœç´¢ç‰ˆçš„ `lengthOfLIS` å‡½æ•°æ‰èƒ½é€šè¿‡æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚è¿™æ ·çš„è¯ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(NlogN)`ï¼Œå› ä¸ºæ’åºå’Œè®¡ç®— LIS å„éœ€è¦ `O(NlogN)` çš„æ—¶é—´ï¼ŒåŠ åˆ°ä¸€èµ·è¿˜æ˜¯ `O(NlogN)`ï¼›ç©ºé—´å¤æ‚åº¦ä¸º `O(N)`ï¼Œå› ä¸ºè®¡ç®— LIS çš„å‡½æ•°ä¸­éœ€è¦ä¸€ä¸ª `top` æ•°ç»„ã€‚

æ¥ä¸‹æ¥å¯é˜…è¯»ï¼š

* [åŠ¨æ€è§„åˆ’ä¹‹æœ€å¤§å­æ•°ç»„](https://labuladong.github.io/article/fname.html?fname=æœ€å¤§å­æ•°ç»„)



<hr>
<details>
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„æ–‡ç« </strong></summary>

 - [äºŒåˆ†æŸ¥æ‰¾é«˜æ•ˆåˆ¤å®šå­åºåˆ—](https://labuladong.github.io/article/fname.html?fname=äºŒåˆ†æŸ¥æ‰¾åˆ¤å®šå­åºåˆ—)
 - [åŠ¨æ€è§„åˆ’ä¹‹å­åºåˆ—é—®é¢˜è§£é¢˜æ¨¡æ¿](https://labuladong.github.io/article/fname.html?fname=å­åºåˆ—é—®é¢˜æ¨¡æ¿)
 - [åŠ¨æ€è§„åˆ’è§£é¢˜å¥—è·¯æ¡†æ¶](https://labuladong.github.io/article/fname.html?fname=åŠ¨æ€è§„åˆ’è¯¦è§£è¿›é˜¶)
 - [åŠ¨æ€è§„åˆ’è®¾è®¡ï¼šæœ€å¤§å­æ•°ç»„](https://labuladong.github.io/article/fname.html?fname=æœ€å¤§å­æ•°ç»„)
 - [åŠ¨æ€è§„åˆ’é—®é¢˜çš„ä¸¤ç§ç©·ä¸¾è§†è§’](https://labuladong.github.io/article/fname.html?fname=åŠ¨å½’ä¸¤ç§è§†è§’)
 - [æˆ‘çš„åˆ·é¢˜å¿ƒå¾—](https://labuladong.github.io/article/fname.html?fname=ç®—æ³•å¿ƒå¾—)
 - [æœ€ä¼˜å­ç»“æ„åŸç†å’Œ dp æ•°ç»„éå†æ–¹å‘](https://labuladong.github.io/article/fname.html?fname=æœ€ä¼˜å­ç»“æ„)

</details><hr>




<hr>
<details>
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„é¢˜ç›®</strong></summary>

<strong>å®‰è£… [æˆ‘çš„ Chrome åˆ·é¢˜æ’ä»¶](https://mp.weixin.qq.com/s/X-fE9sR4BLi6T9pn7xP4pg) ç‚¹å¼€ä¸‹åˆ—é¢˜ç›®å¯ç›´æ¥æŸ¥çœ‹è§£é¢˜æ€è·¯ï¼š</strong>

| LeetCode | åŠ›æ‰£ |
| :----: | :----: |
| [1425. Constrained Subsequence Sum](https://leetcode.com/problems/constrained-subsequence-sum/?show=1) | [1425. å¸¦é™åˆ¶çš„å­åºåˆ—å’Œ](https://leetcode.cn/problems/constrained-subsequence-sum/?show=1) |
| [256. Paint House](https://leetcode.com/problems/paint-house/?show=1)ğŸ”’ | [256. ç²‰åˆ·æˆ¿å­](https://leetcode.cn/problems/paint-house/?show=1)ğŸ”’ |
| - | [å‰‘æŒ‡ Offer II 091. ç²‰åˆ·æˆ¿å­](https://leetcode.cn/problems/JEj789/?show=1) |

</details>



**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•å°æŠ„ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤å…³é”®è¯ã€Œ**è¿›ç¾¤**ã€å¯åŠ å…¥ç®—æ³•ç¾¤ï¼›å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.github.io/algo/images/souyisou2.png)


======å…¶ä»–è¯­è¨€ä»£ç ======

### javascript

[scuhzs](https://github.com/brucecat)æä¾›[300.æœ€é•¿ä¸Šå‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence)

åŠ¨æ€è§„åˆ’åšæ³•å¦‚ä¸‹ï¼š

```javascript
let lengthOfLIS = function (nums) {
  	// ç”¨1å¡«æ»¡dpæ•°ç»„
    let dp = [];
    dp.fill(1, 0, nums.length);

    for (let i = 1; i < nums.length; i++)
        for (let j = 0; j < i; j++)
            nums[i] > nums[j] && (dp[i] = Math.max(dp[i], dp[j] + 1))
    return nums.length < 2 ? nums.length : Math.max(...dp)
};
```

äºŒåˆ†æ³•åšæ³•å¦‚ä¸‹ï¼š

```javascript
let lengthOfLIS01 = function (nums) {
    let top = new Array(nums.length);
    for (let i = 0; i < nums.length; i++) {
        top[i] = 0;
    }

    // ç‰Œå †æ•°åˆå§‹åŒ–ä¸º 0
    let piles = 0;

    for (let i = 0; i < nums.length; i++) {
        // è¦å¤„ç†çš„æ‰‘å…‹ç‰Œ
        let poker = nums[i];

        /***** æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ *****/
        let left = 0, right = piles;
        while (left < right) {
            // è®°ä½è¿™é‡Œè¦å‘ä¸‹å–æ•´
            let mid = Math.floor((left + right) / 2);
            if (top[mid] > poker) {
                right = mid;
            } else if (top[mid] < poker) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        /*********************************/

        // æ²¡æ‰¾åˆ°åˆé€‚çš„ç‰Œå †ï¼Œæ–°å»ºä¸€å †
        left === piles && piles++;

        // æŠŠè¿™å¼ ç‰Œæ”¾åˆ°ç‰Œå †é¡¶
        top[left] = poker;
    }
    // ç‰Œå †æ•°å°±æ˜¯ LIS é•¿åº¦
    return piles;
}
```



### python

```python åŠ¨æ€è§„åˆ’
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        n = len(nums)
        f = [1] * (n)

        for i in range(n):
            for j in range(i):
                if nums[j]  < nums[i]:
                    f[i] = max(f[i], f[j] + 1)
        
        res = 0
        for i in range(n):
            res = max(res, f[i])
        return res
```

```python äºŒåˆ†æŸ¥æ‰¾
class Solution:
    def lengthOfLIS(self, nums: List[int]) -> int:
        stack = []

        def find_index(num):
            l, r = 0, len(stack)
            while l < r:
                mid = l + r >> 1
                if stack[mid] >= num:
                    r = mid 
                else:
                    l = mid + 1

            return r


        for num in nums:
            if not stack or num > stack[-1]:
                stack.append(num)
            else:
                position = find_index(num)
                stack[position] = num

        return len(stack)
```



### c++

[Kian](https://github.com/KianKw/) æä¾› C++ ä»£ç 

```c++
class Solution {
public:
    int lengthOfLIS(vector<int>& nums) {
        /* len ä¸ºç‰Œçš„æ•°é‡ */
        int len = nums.size();
        vector<int> top(len, 0);
        /* ç‰Œå †æ•°åˆå§‹åŒ–ä¸º0 */
        int piles = 0;
        for (int i = 0; i < len; i++) {
            /* nums[i] ä¸ºè¦å¤„ç†çš„æ‰‘å…‹ç‰Œ */
            int poker = nums[i];

            /***** æœç´¢å·¦ä¾§è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾ *****/
            int left = 0, right = piles;
            while (left < right) {
                int mid = left + (right - left) / 2;
                if (top[mid] > poker) {
                    right = mid;
                } else if (top[mid] < poker) {
                    left = mid + 1;
                } else if (top[mid] == poker) {
                    right = mid;
                }
            }
            /*********************************/

            /* æ²¡æ‰¾åˆ°åˆé€‚çš„ç‰Œå †ï¼Œæ–°å»ºä¸€å † */
            if (left == piles)
                piles++;
            /* æŠŠè¿™å¼ ç‰Œæ”¾åˆ°ç‰Œå †é¡¶ */
            top[left] = poker;
        }
        /* ç‰Œå †æ•°å°±æ˜¯ LIS é•¿åº¦ */
        return piles;
    }
};
```

