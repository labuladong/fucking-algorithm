# DFS ç®—æ³•ç§’æ€å²›å±¿ç³»åˆ—é¢˜ç›®

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://labuladong.online/algo/" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.online/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ–°ç‰ˆç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) å³å°†æ¶¨ä»·ï¼›å·²æ”¯æŒè€ç”¨æˆ·ç»­è´¹~å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.online/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [1020. Number of Enclaves](https://leetcode.com/problems/number-of-enclaves/) | [1020. é£åœ°çš„æ•°é‡](https://leetcode.cn/problems/number-of-enclaves/) | ğŸŸ 
| [1254. Number of Closed Islands](https://leetcode.com/problems/number-of-closed-islands/) | [1254. ç»Ÿè®¡å°é—­å²›å±¿çš„æ•°ç›®](https://leetcode.cn/problems/number-of-closed-islands/) | ğŸŸ 
| [1905. Count Sub Islands](https://leetcode.com/problems/count-sub-islands/) | [1905. ç»Ÿè®¡å­å²›å±¿](https://leetcode.cn/problems/count-sub-islands/) | ğŸŸ 
| [200. Number of Islands](https://leetcode.com/problems/number-of-islands/) | [200. å²›å±¿æ•°é‡](https://leetcode.cn/problems/number-of-islands/) | ğŸŸ 
| [694. Number of Distinct Islands](https://leetcode.com/problems/number-of-distinct-islands/)ğŸ”’ | [694. ä¸åŒå²›å±¿çš„æ•°é‡](https://leetcode.cn/problems/number-of-distinct-islands/)ğŸ”’ | ğŸŸ 
| [695. Max Area of Island](https://leetcode.com/problems/max-area-of-island/) | [695. å²›å±¿çš„æœ€å¤§é¢ç§¯](https://leetcode.cn/problems/max-area-of-island/) | ğŸŸ 
| - | [å‰‘æŒ‡ Offer II 105. å²›å±¿çš„æœ€å¤§é¢ç§¯](https://leetcode.cn/problems/ZL6zAn/) | ğŸŸ 

**-----------**

å²›å±¿ç³»åˆ—ç®—æ³•é—®é¢˜æ˜¯ç»å…¸çš„é¢è¯•é«˜é¢‘é¢˜ï¼Œè™½ç„¶åŸºæœ¬çš„é—®é¢˜å¹¶ä¸éš¾ï¼Œä½†æ˜¯è¿™ç±»é—®é¢˜æœ‰ä¸€äº›æœ‰æ„æ€çš„æ‰©å±•ï¼Œæ¯”å¦‚æ±‚å­å²›å±¿æ•°é‡ï¼Œæ±‚å½¢çŠ¶ä¸åŒçš„å²›å±¿æ•°é‡ç­‰ç­‰ï¼Œæœ¬æ–‡å°±æ¥æŠŠè¿™äº›é—®é¢˜ä¸€ç½‘æ‰“å°½ã€‚

**å²›å±¿ç³»åˆ—é¢˜ç›®çš„æ ¸å¿ƒè€ƒç‚¹å°±æ˜¯ç”¨ DFS/BFS ç®—æ³•éå†äºŒç»´æ•°ç»„**ã€‚

æœ¬æ–‡ä¸»è¦æ¥è®²è§£å¦‚ä½•ç”¨ DFS ç®—æ³•æ¥ç§’æ€å²›å±¿ç³»åˆ—é¢˜ç›®ï¼Œä¸è¿‡ç”¨ BFS ç®—æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ— éå°±æ˜¯æŠŠ DFS æ”¹å†™æˆ BFS è€Œå·²ã€‚

é‚£ä¹ˆå¦‚ä½•åœ¨äºŒç»´çŸ©é˜µä¸­ä½¿ç”¨ DFS æœç´¢å‘¢ï¼Ÿå¦‚æœä½ æŠŠäºŒç»´çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªä½ç½®çœ‹åšä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„ä¸Šä¸‹å·¦å³å››ä¸ªä½ç½®å°±æ˜¯ç›¸é‚»èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•´ä¸ªçŸ©é˜µå°±å¯ä»¥æŠ½è±¡æˆä¸€å¹…ç½‘çŠ¶çš„ã€Œå›¾ã€ç»“æ„ã€‚

æ ¹æ® [å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ¡†æ¶æ€ç»´](https://labuladong.online/algo/essential-technique/abstraction-of-algorithm/)ï¼Œå®Œå…¨å¯ä»¥æ ¹æ®äºŒå‰æ ‘çš„éå†æ¡†æ¶æ”¹å†™å‡ºäºŒç»´çŸ©é˜µçš„ DFS ä»£ç æ¡†æ¶ï¼š

<!-- muliti_language -->
```java
// äºŒå‰æ ‘éå†æ¡†æ¶
void traverse(TreeNode root) {
    traverse(root.left);
    traverse(root.right);
}

// äºŒç»´çŸ©é˜µéå†æ¡†æ¶
void dfs(int[][] grid, int i, int j, boolean[][] visited) {
    int m = grid.length, n = grid[0].length;
    if (i < 0 || j < 0 || i >= m || j >= n) {
        // è¶…å‡ºç´¢å¼•è¾¹ç•Œ
        return;
    }
    if (visited[i][j]) {
        // å·²éå†è¿‡ (i, j)
        return;
    }
    // è¿›å…¥èŠ‚ç‚¹ (i, j)
    visited[i][j] = true;
    dfs(grid, i - 1, j, visited); // ä¸Š
    dfs(grid, i + 1, j, visited); // ä¸‹
    dfs(grid, i, j - 1, visited); // å·¦
    dfs(grid, i, j + 1, visited); // å³
}
```

å› ä¸ºäºŒç»´çŸ©é˜µæœ¬è´¨ä¸Šæ˜¯ä¸€å¹…ã€Œå›¾ã€ï¼Œæ‰€ä»¥éå†çš„è¿‡ç¨‹ä¸­éœ€è¦ä¸€ä¸ª `visited` å¸ƒå°”æ•°ç»„é˜²æ­¢èµ°å›å¤´è·¯ï¼Œå¦‚æœä½ èƒ½ç†è§£ä¸Šé¢è¿™æ®µä»£ç ï¼Œé‚£ä¹ˆæå®šæ‰€æœ‰å²›å±¿ç³»åˆ—é¢˜ç›®éƒ½å¾ˆç®€å•ã€‚

è¿™é‡Œé¢å¤–è¯´ä¸€ä¸ªå¤„ç†äºŒç»´æ•°ç»„çš„å¸¸ç”¨å°æŠ€å·§ï¼Œä½ æœ‰æ—¶ä¼šçœ‹åˆ°ä½¿ç”¨ã€Œæ–¹å‘æ•°ç»„ã€æ¥å¤„ç†ä¸Šä¸‹å·¦å³çš„éå†ï¼Œå’Œå‰æ–‡ [union-find ç®—æ³•è¯¦è§£](https://labuladong.online/algo/data-structure/union-find/) çš„ä»£ç å¾ˆç±»ä¼¼ï¼š

<!-- muliti_language -->
```java
// æ–¹å‘æ•°ç»„ï¼Œåˆ†åˆ«ä»£è¡¨ä¸Šã€ä¸‹ã€å·¦ã€å³
int[][] dirs = new int[][]{{-1,0}, {1,0}, {0,-1}, {0,1}};

void dfs(int[][] grid, int i, int j, boolean[][] visited) {
    int m = grid.length, n = grid[0].length;
    if (i < 0 || j < 0 || i >= m || j >= n) {
        // è¶…å‡ºç´¢å¼•è¾¹ç•Œ
        return;
    }
    if (visited[i][j]) {
        // å·²éå†è¿‡ (i, j)
        return;
    }

    // è¿›å…¥èŠ‚ç‚¹ (i, j)
    visited[i][j] = true;
    // é€’å½’éå†ä¸Šä¸‹å·¦å³çš„èŠ‚ç‚¹
    for (int[] d : dirs) {
        int next_i = i + d[0];
        int next_j = j + d[1];
        dfs(grid, next_i, next_j, visited);
    }
    // ç¦»å¼€èŠ‚ç‚¹ (i, j)
}
```

è¿™ç§å†™æ³•æ— éå°±æ˜¯ç”¨ for å¾ªç¯å¤„ç†ä¸Šä¸‹å·¦å³çš„éå†ç½¢äº†ï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸ªäººå–œå¥½é€‰æ‹©å†™æ³•ã€‚ä¸‹é¢å°±æŒ‰ç…§ä¸Šè¿°æ¡†æ¶ç»“åˆå¯è§†åŒ–é¢æ¿æ¥è§£é¢˜ã€‚



<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„æ–‡ç« </strong></summary>

 - [FloodFillç®—æ³•è¯¦è§£åŠåº”ç”¨](https://labuladong.online/algo/fname.html?fname=FloodFillç®—æ³•è¯¦è§£åŠåº”ç”¨)
 - [ä¸œå“¥å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆçº²é¢†ç¯‡ï¼‰](https://labuladong.online/algo/essential-technique/binary-tree-summary/)
 - [å¹¶æŸ¥é›†ï¼ˆUnion-Findï¼‰ç®—æ³•](https://labuladong.online/algo/data-structure/union-find/)

</details><hr>




<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„é¢˜ç›®</strong></summary>

<strong>å®‰è£… [æˆ‘çš„ Chrome åˆ·é¢˜æ’ä»¶](https://labuladong.online/algo/intro/chrome/) ç‚¹å¼€ä¸‹åˆ—é¢˜ç›®å¯ç›´æ¥æŸ¥çœ‹è§£é¢˜æ€è·¯ï¼š</strong>

| LeetCode | åŠ›æ‰£ |
| :----: | :----: |
| [1219. Path with Maximum Gold](https://leetcode.com/problems/path-with-maximum-gold/?show=1) | [1219. é»„é‡‘çŸ¿å·¥](https://leetcode.cn/problems/path-with-maximum-gold/?show=1) |
| [79. Word Search](https://leetcode.com/problems/word-search/?show=1) | [79. å•è¯æœç´¢](https://leetcode.cn/problems/word-search/?show=1) |
| - | [å‰‘æŒ‡ Offer 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´](https://leetcode.cn/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/?show=1) |
| - | [å‰‘æŒ‡ Offer II 105. å²›å±¿çš„æœ€å¤§é¢ç§¯](https://leetcode.cn/problems/ZL6zAn/?show=1) |

</details>
<hr>



**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

æœ¬æ–‡ä¸ºä¼šå‘˜å†…å®¹ï¼Œè¯·æ‰«ç å…³æ³¨å…¬ä¼—å·æˆ– [ç‚¹è¿™é‡Œ](https://labuladong.online/algo/frequency-interview/island-dfs-summary/) æŸ¥çœ‹ï¼š

![](https://labuladong.online/algo/images/qrcode.jpg)