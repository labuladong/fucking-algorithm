# å¦‚ä½•é«˜æ•ˆåˆ¤æ–­å›æ–‡é“¾è¡¨

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://labuladong.online/algo/" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.online/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ–°ç‰ˆç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) å³å°†æ¶¨ä»·ï¼›å·²æ”¯æŒè€ç”¨æˆ·ç»­è´¹~å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.online/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [234. Palindrome Linked List](https://leetcode.com/problems/palindrome-linked-list/) | [234. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/) | ğŸŸ¢
| - | [å‰‘æŒ‡ Offer II 027. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/aMhZSa/) | ğŸŸ¢

**-----------**

å‰æ–‡ [æ•°ç»„åŒæŒ‡é’ˆæŠ€å·§æ±‡æ€»](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/) å’Œ [å­åºåˆ—é—®é¢˜è§£é¢˜æ€è·¯](https://labuladong.online/algo/dynamic-programming/subsequence-problem/) è®²è§£äº†å›æ–‡ä¸²å’Œå›æ–‡åºåˆ—ç›¸å…³çš„é—®é¢˜ï¼Œå…ˆæ¥ç®€å•å›é¡¾ä¸‹ã€‚

**å¯»æ‰¾**å›æ–‡ä¸²çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»ä¸­å¿ƒå‘ä¸¤ç«¯æ‰©å±•ï¼š

<!-- muliti_language -->
```java
// åœ¨ s ä¸­å¯»æ‰¾ä»¥ s[left] å’Œ s[right] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²
String palindrome(String s, int left, int right) {
    // é˜²æ­¢ç´¢å¼•è¶Šç•Œ
    while (left >= 0 && right < s.length()
            && s.charAt(left) == s.charAt(right)) {
        // åŒæŒ‡é’ˆï¼Œå‘ä¸¤è¾¹å±•å¼€
        left--;
        right++;
    }
    // è¿”å›ä»¥ s[left] å’Œ s[right] ä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²
    return s.substring(left + 1, right);
}
```

å› ä¸ºå›æ–‡ä¸²é•¿åº¦å¯èƒ½ä¸ºå¥‡æ•°ä¹Ÿå¯èƒ½æ˜¯å¶æ•°ï¼Œé•¿åº¦ä¸ºå¥‡æ•°æ—¶åªå­˜åœ¨ä¸€ä¸ªä¸­å¿ƒç‚¹ï¼Œè€Œé•¿åº¦ä¸ºå¶æ•°æ—¶å­˜åœ¨ä¸¤ä¸ªä¸­å¿ƒç‚¹ï¼Œæ‰€ä»¥ä¸Šé¢è¿™ä¸ªå‡½æ•°éœ€è¦ä¼ å…¥ `l` å’Œ `r`ã€‚

è€Œ**åˆ¤æ–­**ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²å°±ç®€å•å¾ˆå¤šï¼Œä¸éœ€è¦è€ƒè™‘å¥‡å¶æƒ…å†µï¼Œåªéœ€è¦[åŒæŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/array-two-pointers-summary/)ï¼Œä»ä¸¤ç«¯å‘ä¸­é—´é€¼è¿‘å³å¯ï¼š

<!-- muliti_language -->
```java
boolean isPalindrome(String s) {
    // ä¸€å·¦ä¸€å³ä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œ
    int left = 0, right = s.length() - 1;
    while (left < right) {
        if (s.charAt(left) != s.charAt(right)) {
            return false;
        }
        left++;
        right--;
    }
    return true;
}
```

ä»¥ä¸Šä»£ç å¾ˆå¥½ç†è§£å§ï¼Œ**å› ä¸ºå›æ–‡ä¸²æ˜¯å¯¹ç§°çš„ï¼Œæ‰€ä»¥æ­£ç€è¯»å’Œå€’ç€è¯»åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸€ç‰¹ç‚¹æ˜¯è§£å†³å›æ–‡ä¸²é—®é¢˜çš„å…³é”®**ã€‚

ä¸‹é¢æ‰©å±•è¿™ä¸€æœ€ç®€å•çš„æƒ…å†µï¼Œæ¥è§£å†³ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªã€Œå•é“¾è¡¨ã€æ˜¯ä¸æ˜¯å›æ–‡ã€‚

### ä¸€ã€åˆ¤æ–­å›æ–‡å•é“¾è¡¨

çœ‹ä¸‹åŠ›æ‰£ç¬¬ 234 é¢˜ã€Œå›æ–‡é“¾è¡¨ã€ï¼š

è¾“å…¥ä¸€ä¸ªå•é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œåˆ¤æ–­è¿™ä¸ªé“¾è¡¨ä¸­çš„æ•°å­—æ˜¯ä¸æ˜¯å›æ–‡ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```java
boolean isPalindrome(ListNode head);
```

æ¯”å¦‚è¯´ï¼š

```
è¾“å…¥: 1->2->null
è¾“å‡º: false

è¾“å…¥: 1->2->2->1->null
è¾“å‡º: true
```

è¿™é“é¢˜çš„å…³é”®åœ¨äºï¼Œå•é“¾è¡¨æ— æ³•å€’ç€éå†ï¼Œæ— æ³•ä½¿ç”¨åŒæŒ‡é’ˆæŠ€å·§ã€‚

é‚£ä¹ˆæœ€ç®€å•çš„åŠæ³•å°±æ˜¯ï¼ŒæŠŠåŸå§‹é“¾è¡¨åè½¬å­˜å…¥ä¸€æ¡æ–°çš„é“¾è¡¨ï¼Œç„¶åæ¯”è¾ƒè¿™ä¸¤æ¡é“¾è¡¨æ˜¯å¦ç›¸åŒã€‚å…³äºå¦‚ä½•åè½¬é“¾è¡¨ï¼Œå¯ä»¥å‚è§å‰æ–‡ [é€’å½’ç¿»è½¬é“¾è¡¨çš„ä¸€éƒ¨åˆ†](https://labuladong.online/algo/data-structure/reverse-linked-list-recursion/)ã€‚

å…¶å®ï¼Œ**å€ŸåŠ©äºŒå‰æ ‘ååºéå†çš„æ€è·¯ï¼Œä¸éœ€è¦æ˜¾å¼åè½¬åŸå§‹é“¾è¡¨ä¹Ÿå¯ä»¥å€’åºéå†é“¾è¡¨**ï¼Œä¸‹é¢æ¥å…·ä½“èŠèŠã€‚

å¯¹äºäºŒå‰æ ‘çš„å‡ ç§éå†æ–¹å¼ï¼Œæˆ‘ä»¬å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼š

<!-- muliti_language -->
```java
void traverse(TreeNode root) {
    // å‰åºéå†ä»£ç 
    traverse(root.left);
    // ä¸­åºéå†ä»£ç 
    traverse(root.right);
    // ååºéå†ä»£ç 
}
```

åœ¨ [å­¦ä¹ æ•°æ®ç»“æ„çš„æ¡†æ¶æ€ç»´](https://labuladong.online/algo/essential-technique/abstraction-of-algorithm/) ä¸­è¯´è¿‡ï¼Œé“¾è¡¨å…¼å…·é€’å½’ç»“æ„ï¼Œæ ‘ç»“æ„ä¸è¿‡æ˜¯é“¾è¡¨çš„è¡ç”Ÿã€‚é‚£ä¹ˆï¼Œ**é“¾è¡¨å…¶å®ä¹Ÿå¯ä»¥æœ‰å‰åºéå†å’Œååºéå†**ï¼š

<!-- muliti_language -->
```java
void traverse(ListNode head) {
    // å‰åºéå†ä»£ç 
    traverse(head.next);
    // ååºéå†ä»£ç 
}
```

è¿™ä¸ªæ¡†æ¶æœ‰ä»€ä¹ˆæŒ‡å¯¼æ„ä¹‰å‘¢ï¼Ÿå¦‚æœæˆ‘æƒ³æ­£åºæ‰“å°é“¾è¡¨ä¸­çš„ `val` å€¼ï¼Œå¯ä»¥åœ¨å‰åºéå†ä½ç½®å†™ä»£ç ï¼›åä¹‹ï¼Œå¦‚æœæƒ³å€’åºéå†é“¾è¡¨ï¼Œå°±å¯ä»¥åœ¨ååºéå†ä½ç½®æ“ä½œï¼š

<!-- muliti_language -->
```java
/* å€’åºæ‰“å°å•é“¾è¡¨ä¸­çš„å…ƒç´ å€¼ */
void traverse(ListNode head) {
    if (head == null) return;
    traverse(head.next);
    // ååºéå†ä»£ç 
    print(head.val);
}
```

è¯´åˆ°è¿™äº†ï¼Œå…¶å®å¯ä»¥ç¨ä½œä¿®æ”¹ï¼Œæ¨¡ä»¿åŒæŒ‡é’ˆå®ç°å›æ–‡åˆ¤æ–­çš„åŠŸèƒ½ï¼š

<!-- muliti_language -->
```java
class Solution {
    // ä»å·¦å‘å³ç§»åŠ¨çš„æŒ‡é’ˆ
    ListNode left;
    // ä»å³å‘å·¦ç§»åŠ¨çš„æŒ‡é’ˆ
    ListNode right;

    // è®°å½•é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡
    boolean res = true;

    boolean isPalindrome(ListNode head) {
        left = head;
        traverse(head);
        return res;
    }

    void traverse(ListNode right) {
        if (right == null) {
            return;
        }

        // åˆ©ç”¨é€’å½’ï¼Œèµ°åˆ°é“¾è¡¨å°¾éƒ¨
        traverse(right.next);

        // ååºéå†ä½ç½®ï¼Œæ­¤æ—¶çš„ right æŒ‡é’ˆæŒ‡å‘é“¾è¡¨å³ä¾§å°¾éƒ¨
        // æ‰€ä»¥å¯ä»¥å’Œ left æŒ‡é’ˆæ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡é“¾è¡¨
        if (left.val != right.val) {
            res = false;
        }
        left = left.next;
    }
}
```

è¿™ä¹ˆåšçš„æ ¸å¿ƒé€»è¾‘æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ**å®é™…ä¸Šå°±æ˜¯æŠŠé“¾è¡¨èŠ‚ç‚¹æ”¾å…¥ä¸€ä¸ªæ ˆï¼Œç„¶åå†æ‹¿å‡ºæ¥ï¼Œè¿™æ—¶å€™å…ƒç´ é¡ºåºå°±æ˜¯åçš„**ï¼Œåªä¸è¿‡æˆ‘ä»¬åˆ©ç”¨çš„æ˜¯é€’å½’å‡½æ•°çš„å †æ ˆè€Œå·²ã€‚å¦‚æœä¸å¥½ç†è§£ï¼Œå¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªå¯è§†åŒ–é¢æ¿ï¼Œä½ å¯ä»¥ä¸æ–­ç‚¹å‡» `traverse(right.next);` è¿™ä¸€è¡Œä»£ç ï¼Œå°±èƒ½çœ‹å‡º `left, right` çš„ç§»åŠ¨è¿‡ç¨‹äº†ï¼š

<visual slug='is-palindrome' />

å½“ç„¶ï¼Œæ— è®ºé€ ä¸€æ¡åè½¬é“¾è¡¨è¿˜æ˜¯åˆ©ç”¨ååºéå†ï¼Œç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯ O(N)ã€‚ä¸‹é¢æˆ‘ä»¬æƒ³æƒ³ï¼Œèƒ½ä¸èƒ½ä¸ç”¨é¢å¤–çš„ç©ºé—´ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ

### äºŒã€ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦

æ›´å¥½çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼š

**1ã€å…ˆé€šè¿‡ [åŒæŒ‡é’ˆæŠ€å·§](https://labuladong.online/algo/essential-technique/linked-list-skills-summary/) ä¸­çš„å¿«æ…¢æŒ‡é’ˆæ¥æ‰¾åˆ°é“¾è¡¨çš„ä¸­ç‚¹**ï¼š

<!-- muliti_language -->
```java
ListNode slow, fast;
slow = fast = head;
while (fast != null && fast.next != null) {
    slow = slow.next;
    fast = fast.next.next;
}
// slow æŒ‡é’ˆç°åœ¨æŒ‡å‘é“¾è¡¨ä¸­ç‚¹
```

![](https://labuladong.online/algo/images/å›æ–‡é“¾è¡¨/1.jpg)

**2ã€å¦‚æœ`fast`æŒ‡é’ˆæ²¡æœ‰æŒ‡å‘`null`ï¼Œè¯´æ˜é“¾è¡¨é•¿åº¦ä¸ºå¥‡æ•°ï¼Œ`slow`è¿˜è¦å†å‰è¿›ä¸€æ­¥**ï¼š

```java
if (fast != null)
    slow = slow.next;
```

![](https://labuladong.online/algo/images/å›æ–‡é“¾è¡¨/2.jpg)

**3ã€ä»`slow`å¼€å§‹åè½¬åé¢çš„é“¾è¡¨ï¼Œç°åœ¨å°±å¯ä»¥å¼€å§‹æ¯”è¾ƒå›æ–‡ä¸²äº†**ï¼š

<!-- muliti_language -->
```java
ListNode left = head;
ListNode right = reverse(slow);

while (right != null) {
    if (left.val != right.val)
        return false;
    left = left.next;
    right = right.next;
}
return true;
```

![](https://labuladong.online/algo/images/å›æ–‡é“¾è¡¨/3.jpg)

è‡³æ­¤ï¼ŒæŠŠä¸Šé¢ 3 æ®µä»£ç åˆåœ¨ä¸€èµ·å°±é«˜æ•ˆåœ°è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œå…¶ä¸­ `reverse` å‡½æ•°å¾ˆå®¹æ˜“å®ç°ï¼š

<!-- muliti_language -->
```java
boolean isPalindrome(ListNode head) {
    ListNode slow, fast;
    slow = fast = head;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    
    if (fast != null)
        slow = slow.next;
    
    ListNode left = head;
    ListNode right = reverse(slow);
    while (right != null) {
        if (left.val != right.val)
            return false;
        left = left.next;
        right = right.next;
    }
    
    return true;
}

ListNode reverse(ListNode head) {
    ListNode pre = null, cur = head;
    while (cur != null) {
        ListNode next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
}
```

ç®—æ³•è¿‡ç¨‹å¦‚ä¸‹ GIF æ‰€ç¤ºï¼š

![](https://labuladong.online/algo/images/kgroup/8.gif)

<visual slug='palindrome-linked-list'/>

ç®—æ³•æ€»ä½“çš„æ—¶é—´å¤æ‚åº¦ O(N)ï¼Œç©ºé—´å¤æ‚åº¦ O(1)ï¼Œå·²ç»æ˜¯æœ€ä¼˜çš„äº†ã€‚

æˆ‘çŸ¥é“è‚¯å®šæœ‰è¯»è€…ä¼šé—®ï¼šè¿™ç§è§£æ³•è™½ç„¶é«˜æ•ˆï¼Œä½†ç ´åäº†è¾“å…¥é“¾è¡¨çš„åŸå§‹ç»“æ„ï¼Œèƒ½ä¸èƒ½é¿å…è¿™ä¸ªç‘•ç–µå‘¢ï¼Ÿ

å…¶å®è¿™ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³ï¼Œå…³é”®åœ¨äºå¾—åˆ°`p, q`è¿™ä¸¤ä¸ªæŒ‡é’ˆä½ç½®ï¼š

![](https://labuladong.online/algo/images/å›æ–‡é“¾è¡¨/4.jpg)

è¿™æ ·ï¼Œåªè¦åœ¨å‡½æ•° return ä¹‹å‰åŠ ä¸€æ®µä»£ç å³å¯æ¢å¤åŸå…ˆé“¾è¡¨é¡ºåºï¼š

```java
p.next = reverse(q);
```

ç¯‡å¹…æ‰€é™ï¼Œæˆ‘å°±ä¸å†™äº†ï¼Œè¯»è€…å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚

### ä¸‰ã€æœ€åæ€»ç»“

é¦–å…ˆï¼Œå¯»æ‰¾å›æ–‡ä¸²æ˜¯ä»ä¸­é—´å‘ä¸¤ç«¯æ‰©å±•ï¼Œåˆ¤æ–­å›æ–‡ä¸²æ˜¯ä»ä¸¤ç«¯å‘ä¸­é—´æ”¶ç¼©ã€‚å¯¹äºå•é“¾è¡¨ï¼Œæ— æ³•ç›´æ¥å€’åºéå†ï¼Œå¯ä»¥é€ ä¸€æ¡æ–°çš„åè½¬é“¾è¡¨ï¼Œå¯ä»¥åˆ©ç”¨é“¾è¡¨çš„ååºéå†ï¼Œä¹Ÿå¯ä»¥ç”¨æ ˆç»“æ„å€’åºå¤„ç†å•é“¾è¡¨ã€‚

å…·ä½“åˆ°å›æ–‡é“¾è¡¨çš„åˆ¤æ–­é—®é¢˜ï¼Œç”±äºå›æ–‡çš„ç‰¹æ®Šæ€§ï¼Œå¯ä»¥ä¸å®Œå…¨åè½¬é“¾è¡¨ï¼Œè€Œæ˜¯ä»…ä»…åè½¬éƒ¨åˆ†é“¾è¡¨ï¼Œå°†ç©ºé—´å¤æ‚åº¦é™åˆ° O(1)ã€‚






<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„é¢˜ç›®</strong></summary>

<strong>å®‰è£… [æˆ‘çš„ Chrome åˆ·é¢˜æ’ä»¶](https://labuladong.online/algo/intro/chrome/) ç‚¹å¼€ä¸‹åˆ—é¢˜ç›®å¯ç›´æ¥æŸ¥çœ‹è§£é¢˜æ€è·¯ï¼š</strong>

| LeetCode | åŠ›æ‰£ |
| :----: | :----: |
| - | [å‰‘æŒ‡ Offer II 027. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/aMhZSa/?show=1) |

</details>
<hr>



**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•ç¬”è®°ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.online/algo/images/souyisou2.png)

======å…¶ä»–è¯­è¨€ä»£ç ======

[234.å›æ–‡é“¾è¡¨](https://leetcode-cn.com/problems/palindrome-linked-list)



### C++

```cpp
bool isPalindrome(ListNode* head) {
  if (head == nullptr || head->next == nullptr) //ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œç›´æ¥åˆ¤æ–­ä¸ºtrue
    return true;
  ListNode* slow = head, * fast = head;
  while (fast != nullptr) {//é¦–å…ˆæ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹
    slow = slow->next;
    fast = fast->next == nullptr? fast->next:fast->next->next; //å› ä¸ºé“¾è¡¨é•¿åº¦å¯èƒ½æ˜¯å¥‡æ•°æˆ–å¶æ•°ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œåˆ¤æ–­
  }

  ListNode* temp = nullptr,* pre = nullptr;//preå§‹ç»ˆä¿æŒåç»­é“¾è¡¨çš„å¤´éƒ¨ï¼ŒtempèŠ‚ç‚¹åˆ™ä½œä¸ºä¸­é—´é›¶æ—¶æ›¿æ¢çš„èŠ‚ç‚¹
  while (slow != nullptr) {//åˆ©ç”¨å¤´æ’æ³•ï¼Œå°†å½“å‰èŠ‚ç‚¹ä¸åç»­é“¾è¡¨æ–­é“¾å¤„ç†ï¼Œåè½¬ååŠéƒ¨åˆ†çš„é“¾è¡¨
    temp = slow->next;
    slow->next = pre;//å»ºç«‹è¿æ¥
    pre = slow;//preå§‹ç»ˆä½œä¸ºåç»­é“¾è¡¨çš„å¤´éƒ¨
    slow = temp;
  }

  while (head !=nullptr && pre != nullptr) {//åŒæ­¥è¿›è¡Œæ¯”è¾ƒ
    if (head->val != pre->val) {//å€¼æœ‰ä¸ä¸€æ ·çš„ï¼Œè¯´æ˜ä¸æ˜¯å›æ–‡è”è¡¨ï¼Œç›´æ¥è¿”å›falseäº†
      return false;
    }
    head = head->next;//headå‘ä¸‹èµ°ï¼Œç›´åˆ°èµ°åˆ°ç©º
    pre = pre->next;//preèŠ‚ç‚¹ä¹Ÿå‘ä¸‹èµ°ï¼Œç›´åˆ°èµ°åˆ°ç©º
  }
  return true;//åˆ°æ­¤è¯´æ˜å½“å‰é“¾è¡¨æ˜¯å›æ–‡é“¾è¡¨è¿”å›trueå³å¯
}

```



### javascript

**ååºéå†æ³•**

```js
let left;
var isPalindrome = function(head) {
    left = head;
    return traverse(head);
};

var traverse= function(right){
    if(right == null) return true;
    let res = traverse(right.next);

    // ååºéå†
    res = res && (right.val === left.val);
    left = left.next;
    return res;
}
```



**åŒæŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­ç‚¹+é“¾è¡¨ç¿»è½¬+é“¾è¡¨å¯¹æ¯”**

```js
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} head
 * @return {boolean}
 */

var isPalindrome = function (head) {
    if(head == null || head.next == null){
        return true;
    }


    let left = head;
    let midNode = findMid(head);
    let right = reverse(midNode);

    // å¼€å§‹æ¯”è¾ƒ
    while(right != null){
        if(left.val !== right.val){
            return false;
        }
        left = left.next;
        right = right.next;
    }

    return true;
};

// åŒæŒ‡é’ˆæ‰¾åˆ°é“¾è¡¨ä¸­é—´ç»“ç‚¹
var findMid = function (head){
    let fast, slow;
    fast = slow = head;
    while (fast != null && fast.next != null && slow != null) {
        slow = slow.next;
        fast = fast.next.next;
    }

    // slow ç°åœ¨æŒ‡å‘é“¾è¡¨ä¸­ç‚¹
    return slow;
}

// ç¿»è½¬ä»¥headä¸ºå¤´çš„é“¾è¡¨
var reverse = function (head) {
    let pre = null, cur = head;
    while(cur!=null){
        let next = cur.next;
        cur.next = pre;
        pre = cur;
        cur = next;
    }
    return pre;
}

```

