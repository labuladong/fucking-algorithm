# å¦‚ä½•å¯»æ‰¾ç¼ºå¤±å’Œé‡å¤çš„å…ƒç´ 

<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://labuladong.online/algo/" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.online/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ–°ç‰ˆç½‘ç«™ä¼šå‘˜](https://labuladong.online/algo/intro/site-vip/) å³å°†æ¶¨ä»·ï¼›å·²æ”¯æŒè€ç”¨æˆ·ç»­è´¹~å¦å¤–ï¼Œå»ºè®®ä½ åœ¨æˆ‘çš„ [ç½‘ç«™](https://labuladong.online/algo/) å­¦ä¹ æ–‡ç« ï¼Œä½“éªŒæ›´å¥½ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [645. Set Mismatch](https://leetcode.com/problems/set-mismatch/) | [645. é”™è¯¯çš„é›†åˆ](https://leetcode.cn/problems/set-mismatch/) | ğŸŸ¢

**-----------**

ä»Šå¤©å°±èŠä¸€é“å¾ˆçœ‹èµ·æ¥ç®€å•å´ååˆ†å·§å¦™çš„é—®é¢˜ï¼Œå¯»æ‰¾ç¼ºå¤±å’Œé‡å¤çš„å…ƒç´ ã€‚ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç«  [å¸¸ç”¨çš„ä½æ“ä½œ](https://labuladong.online/algo/frequency-interview/bitwise-operation/) ä¸­ä¹Ÿå†™è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œä¸è¿‡è¿™æ¬¡çš„å’Œä¸Šæ¬¡çš„é—®é¢˜ä½¿ç”¨çš„æŠ€å·§ä¸åŒã€‚

è¿™æ˜¯åŠ›æ‰£ç¬¬ 645 é¢˜ã€Œé”™è¯¯çš„é›†åˆã€ï¼Œæˆ‘æ¥æè¿°ä¸€ä¸‹è¿™ä¸ªé¢˜ç›®ï¼š

ç»™ä¸€ä¸ªé•¿åº¦ä¸º `N` çš„æ•°ç»„ `nums`ï¼Œå…¶ä¸­æœ¬æ¥è£…ç€ `[1..N]` è¿™ `N` ä¸ªå…ƒç´ ï¼Œæ— åºã€‚ä½†æ˜¯ç°åœ¨å‡ºç°äº†ä¸€äº›é”™è¯¯ï¼Œ`nums` ä¸­çš„ä¸€ä¸ªå…ƒç´ å‡ºç°äº†é‡å¤ï¼Œä¹Ÿå°±åŒæ—¶å¯¼è‡´äº†å¦ä¸€ä¸ªå…ƒç´ çš„ç¼ºå¤±ã€‚è¯·ä½ å†™ä¸€ä¸ªç®—æ³•ï¼Œæ‰¾åˆ° `nums` ä¸­çš„é‡å¤å…ƒç´ å’Œç¼ºå¤±å…ƒç´ çš„å€¼ã€‚

<!-- muliti_language -->
```java
// è¿”å›ä¸¤ä¸ªæ•°å­—ï¼Œåˆ†åˆ«æ˜¯ {dup, missing}
int[] findErrorNums(int[] nums);
```

æ¯”å¦‚è¯´è¾“å…¥ï¼š`nums = [1,2,2,4]`ï¼Œç®—æ³•è¿”å› `[2,3]`ã€‚

å…¶å®å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå…ˆéå†ä¸€æ¬¡æ•°ç»„ï¼Œç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åéå†ä¸€æ¬¡ `[1..N]`ï¼Œçœ‹çœ‹é‚£ä¸ªå…ƒç´ é‡å¤å‡ºç°ï¼Œé‚£ä¸ªå…ƒç´ æ²¡æœ‰å‡ºç°ï¼Œå°± OK äº†ã€‚

ä½†é—®é¢˜æ˜¯ï¼Œè¿™ä¸ªå¸¸è§„è§£æ³•éœ€è¦ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œä¹Ÿå°±æ˜¯ O(N) çš„ç©ºé—´å¤æ‚åº¦ã€‚ä½ çœ‹é¢˜ç›®ç»™çš„æ¡ä»¶é‚£ä¹ˆå·§ï¼Œåœ¨ `[1..N]` çš„å‡ ä¸ªæ•°å­—ä¸­æ°å¥½æœ‰ä¸€ä¸ªé‡å¤ï¼Œä¸€ä¸ªç¼ºå¤±ï¼Œ**äº‹å‡ºåå¸¸å¿…æœ‰å¦–**ï¼Œå¯¹å§ã€‚

O(N) çš„æ—¶é—´å¤æ‚åº¦éå†æ•°ç»„æ˜¯æ— æ³•é¿å…çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æƒ³æƒ³åŠæ³•å¦‚ä½•é™ä½ç©ºé—´å¤æ‚åº¦ï¼Œæ˜¯å¦å¯ä»¥åœ¨ O(1) çš„ç©ºé—´å¤æ‚åº¦ä¹‹ä¸‹æ‰¾åˆ°é‡å¤å’Œç¼ºå¤±çš„å…ƒç´ å‘¢ï¼Ÿ



<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„æ–‡ç« </strong></summary>

 - [ã€å¼ºåŒ–ç»ƒä¹ ã€‘å“ˆå¸Œè¡¨æ›´å¤šä¹ é¢˜](https://labuladong.online/algo/problem-set/hash-table/)

</details><hr>




<hr>
<details class="hint-container details">
<summary><strong>å¼•ç”¨æœ¬æ–‡çš„é¢˜ç›®</strong></summary>

<strong>å®‰è£… [æˆ‘çš„ Chrome åˆ·é¢˜æ’ä»¶](https://labuladong.online/algo/intro/chrome/) ç‚¹å¼€ä¸‹åˆ—é¢˜ç›®å¯ç›´æ¥æŸ¥çœ‹è§£é¢˜æ€è·¯ï¼š</strong>

| LeetCode | åŠ›æ‰£ |
| :----: | :----: |
| [442. Find All Duplicates in an Array](https://leetcode.com/problems/find-all-duplicates-in-an-array/?show=1) | [442. æ•°ç»„ä¸­é‡å¤çš„æ•°æ®](https://leetcode.cn/problems/find-all-duplicates-in-an-array/?show=1) |
| [448. Find All Numbers Disappeared in an Array](https://leetcode.com/problems/find-all-numbers-disappeared-in-an-array/?show=1) | [448. æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—](https://leetcode.cn/problems/find-all-numbers-disappeared-in-an-array/?show=1) |

</details>
<hr>



**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

æœ¬æ–‡ä¸ºä¼šå‘˜å†…å®¹ï¼Œè¯·æ‰«ç å…³æ³¨å…¬ä¼—å·æˆ– [ç‚¹è¿™é‡Œ](https://labuladong.online/algo/frequency-interview/mismatch-set/) æŸ¥çœ‹ï¼š

![](https://labuladong.online/algo/images/qrcode.jpg)

======å…¶ä»–è¯­è¨€ä»£ç ======

[645.é”™è¯¯çš„é›†åˆ](https://leetcode-cn.com/problems/set-mismatch)



### java

[zhuli](https://github.com/1097452462 "zhuli")æä¾›çš„Javaä»£ç ï¼š
```java
class Solution {
    public int[] findErrorNums(int[] nums) {
        int n = nums.length;
        int dup = -1;
        for (int i = 0; i < n; i++) {
	    // å…ƒç´ æ˜¯ä» 1 å¼€å§‹çš„
            int index = Math.abs(nums[i]) - 1;
            // nums[index] å°äº 0 åˆ™è¯´æ˜é‡å¤è®¿é—®
            if (nums[index] < 0)
                dup = Math.abs(nums[i]);
            else
                nums[index] *= -1;
        }
        int missing = -1;
        for (int i = 0; i < n; i++)
            // nums[i] å¤§äº 0 åˆ™è¯´æ˜æ²¡æœ‰è®¿é—®
            if (nums[i] > 0)
		// å°†ç´¢å¼•è½¬æ¢æˆå…ƒç´ 
                missing = i + 1;
        return new int[]{dup, missing};
    }
}
```



### javascript

```js
/**
 * @param {number[]} nums
 * @return {number[]}
 */
var findErrorNums = function (nums) {
    let n = nums.length;
    let dup = -1;
    for (let i = 0; i < n; i++) {
        // ç°åœ¨çš„å…ƒç´ æ˜¯ä»1å¼€å§‹çš„
        let index = Math.abs(nums[i]) - 1;
        if (nums[index] < 0) {
            dup = Math.abs(nums[i]);
        } else {
            nums[index] *= -1;
        }
    }

    let missing = -1;
    for (let i = 0; i < n; i++) {
        if (nums[i] > 0) {
            // å°†ç´¢å¼•è½¬æ¢æˆå…ƒç´ 
            missing = i + 1;
        }
    }

    return [dup, missing]
};
```

