# é˜Ÿåˆ—å®ç°æ ˆ|æ ˆå®ç°é˜Ÿåˆ—





<p align='center'>
<a href="https://github.com/labuladong/fucking-algorithm" target="view_window"><img alt="GitHub" src="https://img.shields.io/github/stars/labuladong/fucking-algorithm?label=Stars&style=flat-square&logo=GitHub"></a>
<a href="https://appktavsiei5995.pc.xiaoe-tech.com/index" target="_blank"><img class="my_header_icon" src="https://img.shields.io/static/v1?label=ç²¾å“è¯¾ç¨‹&message=æŸ¥çœ‹&color=pink&style=flat"></a>
<a href="https://www.zhihu.com/people/labuladong"><img src="https://img.shields.io/badge/%E7%9F%A5%E4%B9%8E-@labuladong-000000.svg?style=flat-square&logo=Zhihu"></a>
<a href="https://space.bilibili.com/14089380"><img src="https://img.shields.io/badge/Bç«™-@labuladong-000000.svg?style=flat-square&logo=Bilibili"></a>
</p>

![](https://labuladong.github.io/algo/images/souyisou1.png)

**é€šçŸ¥ï¼š[æ•°æ®ç»“æ„ç²¾å“è¯¾](https://aep.h5.xeknow.com/s/1XJHEO) å·²æ›´æ–°åˆ° V2.0ï¼Œç¬¬ 12 æœŸåˆ·é¢˜æ‰“å¡ [å¼€å§‹æŠ¥å](https://aep.xet.tech/s/XhcRc)ï¼Œç‚¹å‡»è¿™é‡Œä½“éªŒ [åˆ·é¢˜å…¨å®¶æ¡¶](https://labuladong.gitee.io/algo/images/others/%E5%85%A8%E5%AE%B6%E6%A1%B6.jpg)ã€‚**



è¯»å®Œæœ¬æ–‡ï¼Œä½ ä¸ä»…å­¦ä¼šäº†ç®—æ³•å¥—è·¯ï¼Œè¿˜å¯ä»¥é¡ºä¾¿è§£å†³å¦‚ä¸‹é¢˜ç›®ï¼š

| LeetCode | åŠ›æ‰£ | éš¾åº¦ |
| :----: | :----: | :----: |
| [225. Implement Stack using Queues](https://leetcode.com/problems/implement-stack-using-queues/) | [225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode.cn/problems/implement-stack-using-queues/) | ğŸŸ¢
| [232. Implement Queue using Stacks](https://leetcode.com/problems/implement-queue-using-stacks/) | [232. ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/implement-queue-using-stacks/) | ğŸŸ¢
| - | [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/) | ğŸŸ¢

**-----------**

é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ ˆæ˜¯ä¸€ç§å…ˆè¿›åå‡ºçš„æ•°æ®ç»“æ„ï¼Œå½¢è±¡ä¸€ç‚¹å°±æ˜¯è¿™æ ·ï¼š

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/1.jpg)

è¿™ä¸¤ç§æ•°æ®ç»“æ„åº•å±‚å…¶å®éƒ½æ˜¯æ•°ç»„æˆ–è€…é“¾è¡¨å®ç°çš„ï¼Œåªæ˜¯ API é™å®šäº†å®ƒä»¬çš„ç‰¹æ€§ï¼Œé‚£ä¹ˆä»Šå¤©å°±æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨ã€Œæ ˆã€çš„ç‰¹æ€§æ¥å®ç°ä¸€ä¸ªã€Œé˜Ÿåˆ—ã€ï¼Œå¦‚ä½•ç”¨ã€Œé˜Ÿåˆ—ã€å®ç°ä¸€ä¸ªã€Œæ ˆã€ã€‚

### ä¸€ã€ç”¨æ ˆå®ç°é˜Ÿåˆ—

åŠ›æ‰£ç¬¬ 232 é¢˜ã€Œç”¨æ ˆå®ç°é˜Ÿåˆ—ã€è®©æˆ‘ä»¬å®ç°çš„ API å¦‚ä¸‹ï¼š

```java
class MyQueue {
    
    /** æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾ */
    public void push(int x);
    
    /** åˆ é™¤é˜Ÿå¤´çš„å…ƒç´ å¹¶è¿”å› */
    public int pop();
    
    /** è¿”å›é˜Ÿå¤´å…ƒç´  */
    public int peek();
    
    /** åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º */
    public boolean empty();
}
```

æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæ ˆ `s1, s2` å°±èƒ½å®ç°ä¸€ä¸ªé˜Ÿåˆ—çš„åŠŸèƒ½ï¼ˆè¿™æ ·æ”¾ç½®æ ˆå¯èƒ½æ›´å®¹æ˜“ç†è§£ï¼‰ï¼š

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/2.jpg)

```java
class MyQueue {
    private Stack<Integer> s1, s2;
    
    public MyQueue() {
        s1 = new Stack<>();
        s2 = new Stack<>();
    }
    // ...
}
```

å½“è°ƒç”¨ `push` è®©å…ƒç´ å…¥é˜Ÿæ—¶ï¼Œåªè¦æŠŠå…ƒç´ å‹å…¥ `s1` å³å¯ï¼Œæ¯”å¦‚è¯´ `push` è¿› 3 ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ 1,2,3ï¼Œé‚£ä¹ˆåº•å±‚ç»“æ„å°±æ˜¯è¿™æ ·ï¼š

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/3.jpg)

```java
/** æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾ */
public void push(int x) {
    s1.push(x);
}
```

é‚£ä¹ˆå¦‚æœè¿™æ—¶å€™ä½¿ç”¨ `peek` æŸ¥çœ‹é˜Ÿå¤´çš„å…ƒç´ æ€ä¹ˆåŠå‘¢ï¼ŸæŒ‰é“ç†é˜Ÿå¤´å…ƒç´ åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯åœ¨ `s1` ä¸­ 1 è¢«å‹åœ¨æ ˆåº•ï¼Œç°åœ¨å°±è¦è½®åˆ° `s2` èµ·åˆ°ä¸€ä¸ªä¸­è½¬çš„ä½œç”¨äº†ï¼šå½“ `s2` ä¸ºç©ºæ—¶ï¼Œå¯ä»¥æŠŠ `s1` çš„æ‰€æœ‰å…ƒç´ å–å‡ºå†æ·»åŠ è¿› `s2`ï¼Œ**è¿™æ—¶å€™ `s2` ä¸­å…ƒç´ å°±æ˜¯å…ˆè¿›å…ˆå‡ºé¡ºåºäº†**ã€‚

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/4.jpg)

```java
/** è¿”å›é˜Ÿå¤´å…ƒç´  */
public int peek() {
    if (s2.isEmpty())
        // æŠŠ s1 å…ƒç´ å‹å…¥ s2
        while (!s1.isEmpty())
            s2.push(s1.pop());
    return s2.peek();
}
```

åŒç†ï¼Œå¯¹äº `pop` æ“ä½œï¼Œåªè¦æ“ä½œ `s2` å°±å¯ä»¥äº†ã€‚

```java
/** åˆ é™¤é˜Ÿå¤´çš„å…ƒç´ å¹¶è¿”å› */
public int pop() {
    // å…ˆè°ƒç”¨ peek ä¿è¯ s2 éç©º
    peek();
    return s2.pop();
}
```

æœ€åï¼Œå¦‚ä½•åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºå‘¢ï¼Ÿå¦‚æœä¸¤ä¸ªæ ˆéƒ½ä¸ºç©ºçš„è¯ï¼Œå°±è¯´æ˜é˜Ÿåˆ—ä¸ºç©ºï¼š

```java
/** åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º */
public boolean empty() {
    return s1.isEmpty() && s2.isEmpty();
}
```

è‡³æ­¤ï¼Œå°±ç”¨æ ˆç»“æ„å®ç°äº†ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨ä¸¤ä¸ªæ ˆäº’ç›¸é…åˆã€‚

å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™å‡ ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿæœ‰ç‚¹æ„æ€çš„æ˜¯ `peek` æ“ä½œï¼Œè°ƒç”¨å®ƒæ—¶å¯èƒ½è§¦å‘ `while` å¾ªç¯ï¼Œè¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹ `while` å¾ªç¯ä¸ä¼šè¢«è§¦å‘ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚ç”±äº `pop` æ“ä½œè°ƒç”¨äº† `peek`ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å’Œ `peek` ç›¸åŒã€‚

åƒè¿™ç§æƒ…å†µï¼Œå¯ä»¥è¯´å®ƒä»¬çš„**æœ€åæ—¶é—´å¤æ‚åº¦**æ˜¯ O(N)ï¼Œå› ä¸ºåŒ…å« `while` å¾ªç¯ï¼Œ**å¯èƒ½**éœ€è¦ä» `s1` å¾€ `s2` æ¬ç§»å…ƒç´ ã€‚

ä½†æ˜¯å®ƒä»¬çš„**å‡æ‘Šæ—¶é—´å¤æ‚åº¦**æ˜¯ O(1)ï¼Œè¿™ä¸ªè¦è¿™ä¹ˆç†è§£ï¼šå¯¹äºä¸€ä¸ªå…ƒç´ ï¼Œæœ€å¤šåªå¯èƒ½è¢«æ¬è¿ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´ `peek` æ“ä½œå¹³å‡åˆ°æ¯ä¸ªå…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚

### äºŒã€ç”¨é˜Ÿåˆ—å®ç°æ ˆ

å¦‚æœè¯´åŒæ ˆå®ç°é˜Ÿåˆ—æ¯”è¾ƒå·§å¦™ï¼Œé‚£ä¹ˆç”¨é˜Ÿåˆ—å®ç°æ ˆå°±æ¯”è¾ƒç®€å•ç²—æš´äº†ï¼Œåªéœ€è¦ä¸€ä¸ªé˜Ÿåˆ—ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ã€‚

åŠ›æ‰£ç¬¬ 225 é¢˜ã€Œç”¨é˜Ÿåˆ—å®ç°æ ˆã€è®©æˆ‘ä»¬å®ç°å¦‚ä¸‹ APIï¼š

```java
class MyStack {
    
    /** æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶ */
    public void push(int x);
    
    /** åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å› */
    public int pop();
    
    /** è¿”å›æ ˆé¡¶å…ƒç´  */
    public int top();
    
    /** åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º */
    public boolean empty();
}
```

å…ˆè¯´ `push` APIï¼Œç›´æ¥å°†å…ƒç´ åŠ å…¥é˜Ÿåˆ—ï¼ŒåŒæ—¶è®°å½•é˜Ÿå°¾å…ƒç´ ï¼Œå› ä¸ºé˜Ÿå°¾å…ƒç´ ç›¸å½“äºæ ˆé¡¶å…ƒç´ ï¼Œå¦‚æœè¦ `top` æŸ¥çœ‹æ ˆé¡¶å…ƒç´ çš„è¯å¯ä»¥ç›´æ¥è¿”å›ï¼š

```java
class MyStack {
    Queue<Integer> q = new LinkedList<>();
    int top_elem = 0;

    /** æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶ */
    public void push(int x) {
        // x æ˜¯é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œæ˜¯æ ˆçš„æ ˆé¡¶
        q.offer(x);
        top_elem = x;
    }
    
    /** è¿”å›æ ˆé¡¶å…ƒç´  */
    public int top() {
        return top_elem;
    }
}
```

æˆ‘ä»¬çš„åº•å±‚æ•°æ®ç»“æ„æ˜¯å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ï¼Œæ¯æ¬¡ `pop` åªèƒ½ä»é˜Ÿå¤´å–å…ƒç´ ï¼›ä½†æ˜¯æ ˆæ˜¯åè¿›å…ˆå‡ºï¼Œä¹Ÿå°±æ˜¯è¯´ `pop` API è¦ä»é˜Ÿå°¾å–å…ƒç´ ï¼š

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/5.jpg)

è§£å†³æ–¹æ³•ç®€å•ç²—æš´ï¼ŒæŠŠé˜Ÿåˆ—å‰é¢çš„éƒ½å–å‡ºæ¥å†åŠ å…¥é˜Ÿå°¾ï¼Œè®©ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ æ’åˆ°é˜Ÿå¤´ï¼Œè¿™æ ·å°±å¯ä»¥å–å‡ºäº†ï¼š

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/6.jpg)

```java
/** åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å› */
public int pop() {
    int size = q.size();
    while (size > 1) {
        q.offer(q.poll());
        size--;
    }
    // ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ å·²ç»åˆ°äº†é˜Ÿå¤´
    return q.poll();
}
```

è¿™æ ·å®ç°è¿˜æœ‰ä¸€ç‚¹å°é—®é¢˜å°±æ˜¯ï¼ŒåŸæ¥çš„é˜Ÿå°¾å…ƒç´ è¢«æåˆ°é˜Ÿå¤´å¹¶åˆ é™¤äº†ï¼Œä½†æ˜¯ `top_elem` å˜é‡æ²¡æœ‰æ›´æ–°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç‚¹å°ä¿®æ”¹ï¼š

```java
/** åˆ é™¤æ ˆé¡¶çš„å…ƒç´ å¹¶è¿”å› */
public int pop() {
    int size = q.size();
    // ç•™ä¸‹é˜Ÿå°¾ 2 ä¸ªå…ƒç´ 
    while (size > 2) {
        q.offer(q.poll());
        size--;
    }
    // è®°å½•æ–°çš„é˜Ÿå°¾å…ƒç´ 
    top_elem = q.peek();
    q.offer(q.poll());
    // åˆ é™¤ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ 
    return q.poll();
}
```

æœ€åï¼ŒAPI `empty` å°±å¾ˆå®¹æ˜“å®ç°äº†ï¼Œåªè¦çœ‹åº•å±‚çš„é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºå³å¯ï¼š

```java
/** åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º */
public boolean empty() {
    return q.isEmpty();
}
```

å¾ˆæ˜æ˜¾ï¼Œç”¨é˜Ÿåˆ—å®ç°æ ˆçš„è¯ï¼Œ`pop` æ“ä½œæ—¶é—´å¤æ‚åº¦æ˜¯ O(N)ï¼Œå…¶ä»–æ“ä½œéƒ½æ˜¯ O(1)â€‹ã€‚â€‹

ä¸ªäººè®¤ä¸ºï¼Œç”¨é˜Ÿåˆ—å®ç°æ ˆæ˜¯æ²¡å•¥äº®ç‚¹çš„é—®é¢˜ï¼Œä½†æ˜¯**ç”¨åŒæ ˆå®ç°é˜Ÿåˆ—æ˜¯å€¼å¾—å­¦ä¹ çš„**ã€‚

![](https://labuladong.github.io/algo/images/æ ˆé˜Ÿåˆ—/4.jpg)

ä»æ ˆ `s1` æ¬è¿å…ƒç´ åˆ° `s2` ä¹‹åï¼Œå…ƒç´ åœ¨ `s2` ä¸­å°±å˜æˆäº†é˜Ÿåˆ—çš„å…ˆè¿›å…ˆå‡ºé¡ºåºï¼Œè¿™ä¸ªç‰¹æ€§æœ‰ç‚¹ç±»ä¼¼ã€Œè´Ÿè´Ÿå¾—æ­£ã€ï¼Œç¡®å®ä¸å¤ªå®¹æ˜“æƒ³åˆ°ã€‚

å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ã€‚

**ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿**

**ã€Šlabuladong çš„ç®—æ³•å°æŠ„ã€‹å·²ç»å‡ºç‰ˆï¼Œå…³æ³¨å…¬ä¼—å·æŸ¥çœ‹è¯¦æƒ…ï¼›åå°å›å¤å…³é”®è¯ã€Œ**è¿›ç¾¤**ã€å¯åŠ å…¥ç®—æ³•ç¾¤ï¼›å›å¤ã€Œ**å…¨å®¶æ¡¶**ã€å¯ä¸‹è½½é…å¥— PDF å’Œåˆ·é¢˜å…¨å®¶æ¡¶**ï¼š

![](https://labuladong.github.io/algo/images/souyisou2.png)


======å…¶ä»–è¯­è¨€ä»£ç ======

[232.ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/implement-queue-using-stacks)

[225.ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode-cn.com/problems/implement-stack-using-queues)



### javascript

[232.ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode-cn.com/problems/implement-queue-using-stacks)

```js
/**
 * Initialize your data structure here.
 */
var MyQueue = function () {
    this.inStack = [];
    this.outStack = [];
};

/**
 * Push element x to the back of queue.
 * @param {number} x
 * @return {void}
 */
MyQueue.prototype.push = function (x) {
    this.inStack.push(x);
};


/**
 * æ£€æŸ¥outStack
 */
MyQueue.prototype.checkOutStack = function () {
    // // æŠŠ inStack å…ƒç´ å‹å…¥ outStack
    if (!this.outStack.length) {
        while (this.inStack.length) {
            this.outStack.push(this.inStack.pop());
        }
    }
};


/**
 * Removes the element from in front of queue and returns that element.
 * @return {number}
 */
MyQueue.prototype.pop = function () {
    this.checkOutStack();
    return this.outStack.pop();
};

/**
 * Get the front element.
 * @return {number}
 */
MyQueue.prototype.peek = function () {
    this.checkOutStack();
    return this.outStack[this.outStack.length - 1];
};

/**
 * Returns whether the queue is empty.
 * @return {boolean}
 */
MyQueue.prototype.empty = function () {
    return (!this.inStack.length && !this.outStack.length);
};
```

[225.ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode-cn.com/problems/implement-stack-using-queues)

```js
// --------------------------------
/**
 * Initialize your data structure here.
 */
var MyStack = function () {
    this.q = []
    this.top_elem = 0;
};

/**
 * Push element x onto stack.
 * @param {number} x
 * @return {void}
 */
MyStack.prototype.push = function (x) {
    // x æ˜¯é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œæ˜¯æ ˆçš„æ ˆé¡¶
    this.q.push(x);
    this.top_elem = x;
};


/**
 * Removes the element on top of the stack and returns that element.
 * @return {number}
 */
MyStack.prototype.pop = function () {
    let size = this.q.length;

    // ç•™ä¸‹é˜Ÿå°¾ 2 ä¸ªå…ƒç´ 
    while (size > 2) {
        // peek()éƒ½æ˜¯ç”¨æ¥è¿”å›é˜Ÿåˆ—çš„å¤´å…ƒç´ , ç›¸å½“äº[0]
        //  poll()éƒ½æ˜¯ç”¨æ¥ä»é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤ä¸€ä¸ªå…ƒç´  ç›¸å½“äºjsçš„shift()
        this.q.push(this.q.shift());
        size--;
    }

    // è®°å½•æ–°çš„é˜Ÿå°¾å…ƒç´ 
    this.top_elem = this.q[0];
    this.q.push(this.q.shift());

    // åˆ é™¤ä¹‹å‰çš„é˜Ÿå°¾å…ƒç´ 
    return this.q.shift();
};

/**
 * Get the top element.
 * @return {number}
 */
MyStack.prototype.top = function () {
    return this.top_elem;
};

/**
 * Returns whether the stack is empty.
 * @return {boolean}
 */
MyStack.prototype.empty = function () {
    return !this.q.length;
};

/**
 * Your MyStack object will be instantiated and called as such:
 * var obj = new MyStack()
 * obj.push(x)
 * var param_2 = obj.pop()
 * var param_3 = obj.top()
 * var param_4 = obj.empty()
 */
```

